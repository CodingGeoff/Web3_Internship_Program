---
timezone: UTC+8
---

# Wyatt

**GitHub ID:** Wyatt-cuhk

**Telegram:** @Wyatt_0420

## Self-introduction

我是港中文Fintech专业的应届生，目前在一家mm做pm，希望可以在这里学到更多web3工作内容，将学校学的知识真正应用在工作中。

## Notes

<!-- Content_START -->
# 2025-08-07

8-6 补卡
从PM视角看智能合约章节

DApp架构和开发流程
作为产品经理，需要了解DApp的整体架构和开发生命周期以规划产品路线图 。
DApp架构组成：
前端: 用户交互界面，使用HTML、CSS和JavaScript构建 。与传统Web应用不同，DApp前端会连接区块链来调用智能合约，呈现数据和执行交易 。前端还需要集成区块链钱包（如MetaMask）来进行身份验证和签署交易 。
智能合约: DApp的核心，它定义了应用的业务逻辑 。智能合约部署在区块链上，通过执行自动化的规则来确保交易和操作的透明性与不可篡改性 。在以太坊平台上，智能合约通常使用Solidity编程语言编写，并通过EVM执行 。
数据检索器: 智能合约通常以Event形式释放日志事件 。数据检索器会检索这些数据并将其写入到PostgreSQL等传统数据库中，供前端进行数据展示 。
区块链和去中心化存储: 区块链用于存储智能合约的状态数据及交易记录 。去中心化存储如IPFS或Arweave，用于存储大规模的非结构化数据（如图片、文档等），确保数据不易丢失和篡改 。

DApp开发流程：
需求分析与规划: 确定应用目标、功能需求、选择合适的区块链平台（如以太坊、Solana）及设计用户体验 。
智能合约开发: 编写和测试核心业务逻辑，并进行安全审计以避免漏洞 。
检索器开发: 确定前端所需数据内容，编写和部署检索器程序来获取链上数据 。
前端开发: 构建用户界面，集成Web3钱包，显示区块链数据，并处理交易签名与确认 。
部署与上线: 将智能合约部署到测试网或主网，并将前端应用部署到去中心化或传统的Web服务上 。


安全实践（重点关注）：

重入攻击（Reentrancy）: 了解其攻击原理和防御措施 。历史上的The DAO事件就是因为此漏洞导致约6000万美元ETH被盗 。

访问控制（Access Control）: 意识到关键管理函数必须设置访问权限，以防止未经授权的用户调用，从而避免资金被盗或状态被篡改 。

合约部署与前端整合

测试网部署:

测试网（如Sepolia、Holesky）是用于开发、测试和部署智能合约的网络环境，它们模拟主网功能但使用无价值的测试代币 。

通过区块浏览器（如Sepolia Etherscan）查询合约部署地址、交易哈希和事件日志，这在产品发布后进行问题排查时非常有用 。

前端交互:

工作流程: 熟悉前端应用与合约交互的流程，包括初始化连接、用户授权、合约实例化、函数调用、交易签名和广播等步骤 。

ABI（应用二进制接口）: ABI是智能合约对外提供的接口描述规范 。在前端，ABI以JSON格式定义，描述合约中的函数、参数、返回类型等 。

交互类型: 区分两种主要交互方式：

写入操作（.send()）: 用于执行状态改变的交易 。需要用户在钱包中确认交易并支付gas费用 。

读取操作（.call()）: 用于执行只读查询或模拟操作 。不需要gas费用，不会改变区块链状态 。

高阶内容与开发协作
1. Gas优化
Gas是EVM执行操作的抽象工作量单位，每条指令消耗固定的gas。优化的目标是减少交易所需的总gas，以提高用户体验并降低成本。
减少存储操作（Storage Write）：读取存储的第一次操作需要2100 gas，后续则只需100 gas。写入storage的成本高达20,000 gas，因此推荐在多次访问同一存储数据时将其缓存到内存中，以减少SLOAD次数。
使用位压缩（Bit Packing）：将多个小变量压缩到一个uint256中，以节省存储空间。
循环优化：减少不必要的运算，例如将array.length缓存到变量中，而不是在每次循环中都重新读取。
函数可见性选择：external比public更节省gas，适用于仅被外部调用的函数。

2. 合约安全
智能合约一旦部署就无法修改，因此安全性至关重要。
安全设计原则：应遵循最小权限原则、模块化结构以方便审计，以及显式错误处理和事件记录。
重入攻击（Reentrancy）：恶意合约利用回调机制在合约状态更新之前重复调用受影响的函数，从而多次提取资金。历史上最著名的The DAO事件就是因为重入漏洞导致约6000万美元ETH被盗。防护方法是遵循“检查-生效-交互”模式，即先更新状态，再进行转账。
预言机操纵（Oracle Manipulation）：依赖外部价格源的合约可能因其价格被操纵而产生错误行为。防护措施包括使用Chainlink等权威价格源、增加时序约束和多源验证，或使用TWAP等加权算法。
整数溢出/下溢：在早期版本的Solidity（<v0.8.0）中，算术运算越界会产生错误数值。自Solidity 0.8.0起，所有算术运算默认开启溢出/下溢检查。
访问控制缺失：未受保护的管理函数可被任何人调用，导致严重安全风险。所有管理函数都应使用onlyOwner或Access Control修饰符保护。
未初始化代理：基于代理模式的合约若未正确执行初始化函数，可能被任意人初始化并接管合约。
前置交易/三明治攻击：攻击者在交易执行前后分别发送交易，以不利滑点或套利为目的。

3. 智能合约审计
智能合约审计是风险控制的关键手段，可以避免用户资产被盗。
常见工具：
Slither：以Python编写的静态分析工具，可检测安全漏洞和代码规范问题。
MythX：基于云平台的安全分析服务，支持命令行和API调用。
Foundry：高效的Solidity开发测试框架，支持属性测试（模糊测试）。
审计标准流程：包括静态分析、动态测试（Fuzzing）、人工审查和生成审计报告。

4. 开发协作规范
良好的协作规范能提升团队效率和代码质量。
GitHub工作流：
分支策略：主分支（main/master）保持可部署状态，开发分支（develop）用于日常功能开发，功能分支（feature/xxx）用于新功能开发，修复分支（fix/xxx）用于bug修复。
提交信息规范：使用简洁明确的提交信息，推荐格式为“类型: 简要描述”，类型包括feat（新功能）、fix（修复问题）、docs（文档更新）等。
Pull Request（PR）流程：每个功能或修复都应新建一个分支，PR提交前需确保本地所有测试通过、通过静态检查并包含必要文档。PR需要至少一位审查者批准。
Issue管理：对问题使用优先级标签和分类标签进行管理。Issue描述应详细，包含背景、问题、尝试过的方法和环境信息。
开源协作礼仪：所有代码变更需配测试和文档。应保持沟通公开透明，使用讨论区讨论重大设计变更。

5. Layer 2 解决方案
Layer 2是解决以太坊可扩展性和高成本问题的关键技术。
Rollup技术比较：
Optimistic Rollup：通过设定欺诈证明期来保证安全性，兼容EVM且成本低，但提现会有1-2周的延迟。
ZK Rollup：使用零知识证明来保证安全性，具有高安全性和快速提现的优点，但开发难度大且不完全EVM兼容。
主流L2平台概览：
Starknet：使用类Rust语言Cairo，采用ZK-STARK技术，具有极高扩展性。
zkSync：支持Solidity合约，是ZK Rollup，开发体验佳。
Arbitrum：基于Optimistic架构，兼容EVM工具链。
Base：由Coinbase推出，构建于OP Stack上，有强大的生态支持且开发成本低。

# 2025-08-06

今天主要学习行业概览部分

# 2025-08-05

今天完成了测试网测试；晚上的web3安全分享收获很多；完成钓鱼攻防挑战初学者阶段，有意思

# 2025-08-04

今天主要内容是区块链概览、以太坊概览、行业赛道全览及Web3工作方式。偏基础没有太多问题。


# 2025.07.30


<!-- Content_END -->
