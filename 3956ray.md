---
timezone: UTC+8
---

# Ray

**GitHub ID:** 3956ray

**Telegram:** @mmm lll

## Self-introduction

我是Ray，

## Notes

<!-- Content_START -->
# 2025-08-05

## 智能合约
定义：存储在区块链上的可执行代码，能够在满足预设条件时自动执行操作，无需人工干预。
影响：在数字货币以外，可以构建去中心化应用(DApp)、非同质化代币（NFT）等生态系统的基础设施

|维度|比特币（Bitcoin）|以太坊（Ethereum）|
|---|---|---|
|**目标与定位**|去中心化的数字货币，强调安全、稳定和稀缺性（总量 2100 万枚）|去中心化平台，支持智能合约和 Dapps，定位为“区块链 2.0”|
|**编程能力**|脚本语言有限，仅支持简单的交易验证逻辑|图灵完备的编程语言（如 Solidity），可开发复杂智能合约|
|**共识机制**|工作量证明（PoW），矿工通过算力竞争记账权|从 PoW 转向权益证明（PoS），通过 The Merge 实现能源效率优化|
|**交易速度**|每 10 分钟生成一个区块，交易确认较慢|区块时间约 12 秒，交易确认更快，适合高频应用|
|**经济模型**|总量固定，强调抗通胀属性|供应灵活，通过 EIP-1559 等机制可能呈现通缩趋势|


## 以太坊演进
### 1.0
使用PoW(工作量证明)
* 矿工通过计算机算力“挖矿”，争夺打包交易的权利。
- 矿工需要消耗大量电力资源，竞争激烈。
- 成功打包区块的矿工会获得新生成的 ETH 奖励。
问题：
* **能耗高**：全球以太坊矿工的电力消耗相当于一个小国家的用电量。
- **扩展性差**：每秒只能处理约 30 笔交易（TPS），速度慢、费用高。
解决方案：
* Homestead：修复安全漏洞，优化 Gas 计算，加入新操作码。
* Metropolis：
	* Byzantium：
		* 引入 zkSNARKs 支持（零知识证明）。
		- 降低难度炸弹(Difficulty Bomb)影响（推迟PoS切换时间）
	* Constantinople：
		* 减少某些操作Gas费用。  
		- 延后难度炸弹。
		- PS: Difficulty Bomb = 挖矿越来越难 + 区块时间变长 + 以太坊“冻结” = 社区必须升级或停摆。
- Istanbul：
	- 提升EVM性能。
	* 加强与Zcash等其他链的兼容性。

### 2.0
事件：The Merge
* Beacon Chain：
	* 引入PoS
	* 实现质押机制
	* 构建PoS验证者网络
	* 和主网并行存在，互不干扰
* London 升级
	* 改革交易手续费机制，引入'基础费+小费'模型
	* 提高Gas预测准确性，减少网络拥堵
	* 一部分 ETH 会被销毁（deflationary mechanism）
* **The Merge**(2022.09.15)
	* 正式从 PoW 切换至 PoS，标志性升级
	* Beacon 链接管共识, 将共识机制“插接”到信标链的 PoS 系统   
	- 废除挖矿，提高网络安全
	- PoS：
		- 准入门槛：质押 32 ETH 成为验证者
		- 工作方式：系统随机选择验证者来提议和验证区块
		- 奖励机制：验证者获得新发行的 ETH + 交易费用
		- 惩罚机制：作恶者质押的 ETH 被销毁（Slashing）
		* 相比 PoW 的优势
			- **能耗降低 99.95%**：无需大量电力和硬件
			- **经济安全性**：攻击成本约需控制全网 67% 的质押 ETH（价值数百亿美元）
			- **最终确定性**：区块确认更快、更可靠
- Shapella（Shanghai + Capella，2023.04）:
	- 支持质押 ETH 的提款（EIP-4895）
- Dencun（Deneb + Cancun）:
	- 实现数据分片原型，降低L2费用，提高扩容性。
	- 专注于**数据分片**，配合 Layer 2 实现扩容
	- 主网专注安全和数据可用性，Layer 2 负责大量交易处理
	- 引入 Proto-Danksharding（EIP-4844）
		- **问题**：以前 L2 提交数据需要使用常规交易，成本高昂
		- **解决方案**：引入专门的“Blob 交易”类型，数据存储成本大幅降低
		- **技术细节**：Blob 数据会在一定时间后自动删除，不会永久占用主网存储
	- ZK-Rollup
		- **批量处理**：在链下一次性处理数百笔交易
		- **零知识证明**：生成一个简洁的“正确性证明”
		- **主网验证**：以太坊只需验证这个证明，无需重新执行所有交易

# 2025-08-04

# 区块链
* 定义：去中心化的分布式账本技术，用于在网络节点之间安全、透明且不可篡改地记录事务数据。
* 组成：区块 + 链
	* 区块：交易记录 + 前一个区块hash
		* 存储有限(存储是真的贵啊)
			* 主要解决方案：
				* **链下存储+链上验证**：IPFS、Swarm、Arweave 等兴起，链上仅存摘要或引用
				* **模块化区块链 / 数据可用性层**：Celestia、Avail、EigenDA。“共识”“执行”“数据可用性”拆分成独立模块，数据层只负责广播数据，不必所有节点都存储
				* **Layer 2 Rollup + Validity/Optimistic Proofs**：zkRollup，Optimistic Rollup（Arbitrum, Optimism）。将大量交易和数据在链下处理，仅将结果及证明回传主链
				* **去中心化数据库和索引服务**：The Graph、Lighthouse、Fluence。提供索引和查询服务，将复杂数据查询从链上移至链下
		* 每个区块会在一定时间内打包，例如大概 10 分钟打包生成一个(BTC)。如下表

| 区块链                     | 共识机制                  | 打包时间       | 特点                               |
| ----------------------- | --------------------- | ---------- | -------------------------------- |
| **比特币**                 | PoW (SHA-256)         | ~10 分钟     | 最稳健，出块慢，安全性高                     |
| **以太坊**                 | PoS（现为Casper）         | ~12 秒      | 合并前是 PoW（13-15秒），合并后略快           |
| **BNB Chain**           | PoSA（混合PoS+Authority） | ~3 秒       | 高吞吐，中心化程度较高                      |
| **Solana**              | PoH + PoS             | ~0.4 秒     | 极快出块，高性能，但曾因宕机受质疑                |
| **Avalanche**           | Avalanche Consensus   | ~1-2 秒     | 并行处理交易，高速可扩展                     |
| **Cosmos**              | Tendermint（BFT类）      | ~6-7 秒     | 快速确认，适用于跨链通信                     |
| **Arbitrum / Optimism** | Layer2 Rollup         | 以太坊 L1区块为锚 | Rollup 本身秒级处理，但上链结算需要等待 L1 的确认时间 |
| **Celestia**            | Modular + DA层         | ~3-5 秒     | 仅负责数据可用性，不执行交易                   |

	* 链：
		* 一条链只可以链接两个区块。
		* 区块按照顺序串联
* 特点：
	* 不可篡改：无法改变历史信息，因为每个区块包含了上一个区块的摘要并串联起来，如果你修改了历史的区块，你将必须修改后面的全部区块。
		* 篡改条件：（成本高，难度大）
			* 重写目标区块及其后的所有区块  
			- 控制全网 51% 的计算能力（PoW）
			- 避免被其他 honest 节点识破并拒绝同步
			- 快速追赶并超过现有合法最长链
	* 公开透明，匿名
	* 快速交易：相比传统的跨国汇款非常快速便捷。


# 2025.07.30


<!-- Content_END -->
