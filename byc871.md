---
timezone: UTC+8
---

# 白语宸

**GitHub ID:** byc871

**Telegram:** @haha871

## Self-introduction

和大家一起学习区块链！已进微信群

## Notes

<!-- Content_START -->

# 2025-08-24
<!-- DAILY_CHECKIN_2025-08-24_START -->
8月24日学习，又学了群里会议新内容，收获挺多
<!-- DAILY_CHECKIN_2025-08-24_END -->


# 2025-08-23
<!-- DAILY_CHECKIN_2025-08-23_START -->
8月23日打卡，继续学习运营，增长，技术方面的东西，btc链采用最长链的形式
<!-- DAILY_CHECKIN_2025-08-23_END -->

# 2025-08-19

今天学了防攻击的相关知识
ERC-4626 通胀攻击学习笔记
引言
ERC-4626 是一个 ERC-20 兼容的代币化金库（Tokenized Vaults）标准，用于管理资产存款和赎回。该标准中存在一种称为“通胀攻击”（Inflation Attack）的漏洞，攻击者可以通过操纵金库的初始存款来窃取后续存款者的资产。本笔记基于学习内容，总结攻击原理、OpenZeppelin 实现的缓解措施，以及防护建议。

通胀攻击概述
基本概念
金库（Vault）：ERC-4626 金库允许用户存入资产（如 USDC）以换取金库代币（Vault Tokens），并可通过销毁代币赎回资产。
通胀攻击：攻击者通过在金库初始部署时存入极少量资产（如 1 wei USDC），并通过直接转账增加金库余额，操控存款公式中的精度损失，导致后续存款者获得的代币数量减少甚至为零，进而使攻击者获利。
攻击原理

# 2025-08-18

听了罗老师介绍的 Farcaster，我立刻就下载了下来。跟着罗老师的课程，一边学习一边体验，感觉这个平台确实很有意思。上面有不少小程序特别好玩，还有很多实用的工具。而且，在这上面还能追踪到推特上一些意见领袖的钱包信息。

# 2025-08-17

今日8月17打卡，又是一个黑客松的提前准备会议，提前认识队友，以及运营相关知识的储备和在学习

# 2025-08-15

今日打卡
Resupply 协议攻击事件总结
1. 背景
根据 BlockSec 博客（2025年7月6日发布，分析2025年6月26日 Resupply 稳定币协议攻击事件），Resupply 是一个在 Curve 生态系统中运行的去中心化稳定币协议，发行名为 reUSD 的稳定币，采用抵押债务头寸（CDPs）机制。用户可以通过存入 crvUSD 或 frxUSD 等其他稳定币（在外部借贷市场中赚取利息）来借入 reUSD，实现资产的再融资。

1.1 Resupply 协议概况
核心功能：用户在链上部署的 Resupply Market 中进行借贷操作。Market 由 DAO 管理，每个 Market 指定一个 ERC-4626 Vault 作为抵押品，底层资产为 Vault 对应的资产（例如 crvUSD）。
示例：攻击涉及的 Market 0x6e90 和 Vault 0x0114：
Market 0x6e90：
底层资产：crvUSD
抵押品：cvcrvUSD（Vault 0x0114 发行的 ERC-4626 代币）
借入资产：reUSD
Vault 0x0114：
资产：crvUSD（存储在 Curve LlamaLend Controller 中）
抵押品：wstUSR
借入资产：crvUSD
股份：cvcrvUSD
操作流程：用户存入 cvcrvUSD（或 crvUSD，实际会通过 Vault 转换为 cvcrvUSD）到 Market 以借入 reUSD。
1.2 借贷资格判定机制
Resupply Market 通过 isSolvent 修饰符对用户头寸进行资产健康检查，调用 _isSolvent 函数，检查贷款价值比（LTV，Loan-to-Value ratio），要求借入资产与抵押资产的比率不超过系统设定的最大值（ltv <= maxLTV）。
LTV 的计算依赖于 _exchangeRate，即借入资产（reUSD）相对于抵押资产（cvcrvUSD）的价格（汇率）。

# 2025-08-14

今日学习了技术向的相关东西
具体如下：
2025-08-14
Web3 审计课程总结：重要漏洞发现
以下是对Web3审计课程中讨论的三个关键漏洞（Incorrect Fee Structure、DoS Dividends、Swap Margin）的总结，基于讲者的思路，梳理问题本质、攻击路径、影响及解决方案。全程用中文，确保清晰易懂。

1. Incorrect Fee Structure（不正确的费用结构）
问题描述
在Key Finance协议中，奖励复合（reward compounding）机制存在漏洞，允许攻击者通过三明治攻击（sandwich attack）窃取质押奖励。核心问题是：

无费用或锁定期：质押和取消质押无需成本或时间限制。
奖励分配基于瞬时快照：奖励通过updateAllRewards函数更新，分配按调用时的质押比例计算，不考虑质押时间。
攻击路径
攻击者（如Bob）监控mempool，在奖励更新前一刻质押大额资金（例如10000 GMX Key），获取奖励后立即取消质押并卖出。例如：

Alice质押100（持续一周），Bob质押10000（仅1秒）。
总质押10100，产生1%利润（101单位奖励）。
Alice得：101 * (100/10100) ≈ 1单位；Bob得：101 * (10000/10100) ≈ 100单位。
Bob贡献极少（仅1秒），却拿走99%奖励，严重稀释长期质押者（如Alice）的收益。

影响
奖励稀释：长期质押者的收益被短期投机者抢夺，破坏激励机制。
无风险套利：攻击者无需承担资产价格风险，成本极低。
协议吸引力下降：用户因收益低而失去质押动力，可能导致流动性不足。
解决方案
锁定期：要求质押持续一定时间（如7天）。
收取费用：对质押/取消质押加费用，增加攻击成本。
时间加权奖励：奖励按质押时间*金额分配，类似“points per share”模型。
平滑奖励更新：奖励随时间累积（如GMX的P&L计算），避免阶梯式更新。
2. DoS Dividends（分红机制的DoS攻击）
问题描述
协议的distributeDividends函数使用无界for循环遍历users数组，为每个用户分配分红。攻击者可通过创建大量地址（每个mint 1 wei）无限膨胀users数组，导致分红函数gas超限，交易失败。

攻击路径
添加用户：mint函数在余额为0时将地址push到users数组。
膨胀数组：攻击者创建数千地址，分别mint 1 wei，使数组巨大。
触发DoS：调用distributeDividends时，循环遍历所有用户，耗尽block gas limit。
影响
协议瘫痪：分红无法分发，影响正常用户。
用户信任下降：协议功能受阻，可能导致用户流失。
解决方案
Points per Share模型：不逐个计算用户分红，用全局dividendPerToken记录每token分红。
计算公式：dividendPerToken = totalDividends / totalSupply。
用户领取：balance * (currentDividendPerToken - userLastDividendPerToken)。
优势：只需更新单一存储变量，适用于所有持有者，避免循环。

# 2025-08-13

今天学习了技术的相关内容，具体如下
Web3 升级模式与 Eternal Storage 学习笔记
日期
2025年8月13日

学习内容
1. 升级模式（Upgrade Pattern）
定义
升级模式是一种智能合约设计模式，用于解决以太坊区块链上智能合约部署后不可修改的问题。通过将**逻辑（业务代码）和数据（状态存储）**分离，实现在不更改合约地址的情况下更新合约逻辑。

核心思想
代理合约（Proxy Contract）：
存储状态数据，用户的交互入口。
通过delegatecall将调用转发到逻辑合约，保持地址不变。
逻辑合约（Implementation Contract）：
包含业务逻辑，可部署新版本进行升级。
工作原理：
用户与代理合约交互，代理合约调用逻辑合约的代码，但使用自己的存储空间。
升级时，只需更新代理指向的新逻辑合约地址。
优点
可升级性：支持修复漏洞或添加功能。
用户体验：用户无需更新合约地址。
灵活性：逻辑可自由更新，数据保持不变。
缺点与风险
复杂性：代理模式增加开发和审计难度。
安全风险：升级机制可能被恶意利用（例如治理攻击）。
存储冲突：新旧逻辑合约存储布局不一致可能导致数据损坏。
常见实现
OpenZeppelin 的 UUPS（Universal Upgradeable Proxy Standard）：轻量、高效的代理模式。
Transparent Proxy Pattern：避免函数选择器冲突，适合复杂合约。
Diamond Standard (EIP-2535)：支持多个逻辑合约（facets）通过单一代理管理。
审计要点
初始化安全：确保initialize函数只能调用一次，防止重入攻击。
存储布局：检查新旧逻辑合约的存储一致性。
权限管理：验证升级权限（治理或多签）的安全性。
事件记录：确保升级事件被记录，便于追踪。

# 2025-08-12

参加了本周的产品分析，发现web3产品的思路和普通产品的思路有所不同，技术侧重更多
也参与了运营方面的课程，补充了web3社区运营的相关知识，强调twitter等社区的网感和参与度
也尝试听了一下技术向的报告，但是不太熟悉

# 2025-08-11

8月11日，完成了今日技术讲座，继续了运营方面的内容，收获颇丰

# 2025-08-10

今日打卡，810，补上了昨日的专门访谈的笔记

# 2025-08-08

8月8日打卡，参与了法律方面讲座

# 2025-08-07

8月7日打卡，参与了安全讲座，收获颇丰，关于安全的讲授案例，test

# 2025-08-06

8月6日打卡，参与了今日的分享，完成了对应笔记

# 2025-08-05

正在学习入门导读

# 2025-08-04

已补上第0周的注册账号，报名，开营仪式（回放），日历同步，正在实现第一周的目标


# 2025.07.30


<!-- Content_END -->
