---
timezone: UTC+8
---

# Axhan

**GitHub ID:** Azhan1431

**Telegram:** @Azhan1431

## Self-introduction

我是一名区块链工程大四在读生，学习领域是网络安全以及区块链，打过ctf也拿过大大小小的奖项，现在在尝试学习区块链安全，想要在web3世界大展拳脚，目前在一个区块链安全公司实习，案源分析岗位，想去尝试远程工作，在更大的舞台学习深造

## Notes

<!-- Content_START -->
# 2025-08-13

# 链上留言板 DApp 开发笔记

## 目标

构建一个基于 **Solidity + Foundry + Vite + React + wagmi v2 + viem** 的链上留言板 DApp，用户可以连接钱包、提交留言，并查看所有人的留言内容。

------

##  一、Solidity 合约开发（MessageBoard.sol）

### 合约功能

- 每个地址只能留言一次
- 留言包含地址、内容、时间戳
- 所有留言存储在 `messages` 数组中
- 自动生成 `messages(uint256)` getter，可按索引读取单条留言

### 合约代码核心结构

```solidity
struct Message {
    address sender;
    string content;
    uint256 time;
}

Message[] public messages;
mapping(address => bool) public hasMessaged;

function leaveMessage(string calldata _content) external {
    require(!hasMessaged[msg.sender], "You have already left a message");
    messages.push(Message(msg.sender, _content, block.timestamp));
    hasMessaged[msg.sender] = true;
    emit NEWMessage(msg.sender, _content, block.timestamp);
}
```

------

## 二、Foundry 部署流程

### 步骤

1. 编写部署脚本 `Deploy.s.sol`
2. 配置 `.env` 文件存储私钥和 RPC 地址
3. 使用 `forge script` 命令部署到 Sepolia 测试网
4. 获取合约地址和 ABI 文件

### 导出 ABI 文件

```bash
cat out/MessageBoard.sol/MessageBoard.json | jq '.abi' > frontend/src/MessageBoardABI.json
```

------

## 三、前端开发（Vite + React）

### 技术栈

- Vite（快速构建工具）
- React（UI 框架）
- wagmi v2（钱包连接与合约交互）
- viem（底层 RPC 客户端）
- @tanstack/react-query（状态管理）

### 项目结构

```
frontend/
├── src/
│   ├── App.jsx
│   ├── main.jsx
│   └── MessageBoardABI.json
```

------

## 四、前端功能实现

### 功能列表

| 功能         | 实现方式                                   |
| ------------ | ------------------------------------------ |
| 钱包连接     | `useAccount()`                             |
| 提交留言     | `useWriteContract()` 调用 `leaveMessage()` |
| 读取留言总数 | 通过 `messages.length` slot 或事件         |
| 读取单条留言 | 使用 `messages(index)` 自动 getter         |
| 展示留言列表 | 地址 + 内容 + 时间，倒序排列               |
| 页面美化     | 卡片式布局、颜色优化、响应式设计           |

# 2025-08-12

常见的智能合约安全漏洞
了解常见的漏洞是预防攻击的第一步。以下是一些最常见且最具破坏性的智能合约安全问题。

1. 重入攻击（Reentrancy Attack）
重入攻击是利用合约在外部调用（如向其他合约转账）后，但自身状态尚未更新前，被外部合约再次调用的机制。攻击者可以在外部合约的回调函数中，反复调用原合约的提款函数，直到合约内所有资金被掏空。

典型防护措施：

Checks-Effects-Interactions (CEI) 模式：这是最有效的防御方法。在进行外部调用之前，先完成所有状态变量的修改（如扣除余额），再进行转账。

重入锁：使用像 OpenZeppelin 的 ReentrancyGuard 这样的修饰符，在函数执行期间锁定该函数，防止重入。

攻击案例：

The DAO 攻击（2016 年）：这是以太坊历史上最著名的攻击之一。攻击者利用 The DAO 合约中的重入漏洞，在一个提款函数中反复调用，盗走了超过 360 万枚 ETH，最终导致以太坊社区进行硬分叉，形成了现在的 ETH 和 ETC。

2. 访问控制漏洞（Access Control Vulnerability）
访问控制漏洞是指合约中的敏感函数没有设置适当的权限检查，导致任何人都可以调用这些函数，执行只有管理员才能进行的操作，例如修改合约参数或提走资金。

典型防护措施：

onlyOwner 修饰符：使用 msg.sender == owner 的检查来限制只有合约所有者可以调用该函数。

基于角色的权限控制：对于更复杂的合约，可以使用像 OpenZeppelin 的 AccessControl 这样的库，为不同的操作分配不同的角色权限。

攻击案例：

Parity 钱包漏洞（2017 年）：Parity 多重签名钱包中的一个库合约初始化函数未受保护，任何用户都可以调用它来“接管”合约所有权。攻击者利用这个漏洞，将钱包合约代码自毁，导致超过 50 万枚 ETH 永远被锁定。

3. 整数溢出和下溢（Integer Overflow/Underflow）
在 Solidity 的早期版本中，当一个 uint 变量超过其最大值时，它会“绕回”到 0；反之，当它小于 0 时会“绕回”到最大值。攻击者可以利用这个漏洞来操纵余额或代币总量，造成巨大损失。

典型防护措施：

使用 Solidity v0.8.0+：自 0.8.0 版本起，Solidity 编译器默认内置了对所有算术运算的溢出和下溢检查，一旦发生就会自动回滚交易。

使用安全数学库：对于旧版本的合约，可以使用 SafeMath 等库来确保所有数学运算都是安全的。

智能合约安全开发的最佳实践
为了构建安全的智能合约，开发者必须将安全视为开发流程的核心部分，而不是事后才考虑的问题。

遵循成熟的安全设计模式
始终坚持 CEI 模式，将状态更新放在外部调用之前。使用经过验证的修饰符进行权限控制。

使用最新的编译器和可靠的库
使用最新版本的 Solidity 编译器，以获得内置的安全特性。同时，优先使用像 OpenZeppelin Contracts 这样经过广泛审计和社区验证的库，避免重复造轮子。

进行彻底的测试和专业审计
编写全面的单元测试，覆盖所有可能的边界情况和异常路径。在合约部署到主网之前，务必进行专业的第三方安全审计。审计师会从攻击者的角度去审视代码，发现开发者可能忽略的漏洞。

保持代码简洁和模块化
复杂的代码更容易出错。保持合约逻辑的简洁，使用模块化设计，可以使代码更易于阅读和审计。

时刻关注 Web3 生态最新动态
智能合约攻击手段在不断演变，开发者需要持续学习新的攻击手法和防御技术，例如闪电贷攻击（Flash Loan Attack）等新型漏洞。

# 2025-08-11

Solidity 智能合约编程（简单介绍）
Solidity 是一种专门用来写智能合约的高级编程语言，它运行在以太坊虚拟机（EVM）上。

1. 基础语法与开发范式
数据类型
基本类型：bool（布尔值）、uint / int（整数）、address（地址）、bytes（字节数组）和 string（字符串）

复合类型：array（数组）、mapping（映射，类似键值对）、struct（结构体，自定义数据类型）和 enum（枚举）

函数修饰符
可见性修饰符：

public：所有人都可以调用

external：只能从合约外部调用，更省 Gas

internal：只有合约内部和继承的合约可以调用

private：只有当前合约内部可以调用

状态修饰符：

pure：不读也不改合约里的数据（状态）

view：只读合约里的数据，不修改

payable：可以接收以太币

无修饰符：可以读也可以改合约里的数据

开发范式
状态机：智能合约的本质就是一个状态机，交易会改变它的状态

事件驱动：用 event 来记录重要的状态变化，方便前端应用监听和查看日志

模块化：用继承和库来重复利用代码，让代码结构更清晰

2. 合约结构详解
一个智能合约的基本结构由三部分组成：

状态变量：储存在区块链上的变量，永久有效

构造函数：合约部署时只执行一次的函数，通常用来初始化状态变量

普通函数：执行具体业务逻辑的函数

函数声明
一个函数的声明通常包括：函数名、参数、可见性、状态可变性、修饰符和返回值

函数修饰符（Modifiers）
修饰符是一种非常重要的功能，它允许你在函数执行前插入额外的逻辑，比如权限检查。例如，onlyOwner 修饰符可以确保只有合约的创建者才能调用某个函数

3. 安全实践：防范常见攻击
智能合约一旦部署就无法修改，所以安全性至关重要。以下是几种常见的攻击和防护措施：

重入攻击（Reentrancy）
攻击原理：攻击者利用合约先转账、后更新状态的逻辑漏洞，在转账的回调函数里反复调用提款函数，从而多次提款

防护措施：

检查-生效-交互模式（CEI Pattern）：永远先更新状态，后进行外部调用

重入锁（Reentrancy Guard）：使用锁机制，在函数执行期间阻止再次进入该函数

访问控制（Access Control）
攻击原理：如果一个敏感函数（比如提款函数）没有设置权限，任何人都可以调用，导致资产被盗

防护措施：

onlyOwner：只允许合约所有者调用

基于角色的权限控制：给不同的用户分配不同的角色和权限

整数溢出（Integer Overflow）
攻击原理：在 Solidity v0.8.0 之前的版本，当一个整数变量超过它的最大值时，数值会**“绕回到”**最小值，导致出现非预期的数值

防护措施：

使用 Solidity v0.8.0+：新版本默认内置了溢出检查，一旦溢出就会自动报错

逻辑限制：在代码里增加逻辑检查，确保变量不会超过最大值

# 2025-08-08

一 Dapp 架构
Dapp（去中心化应用）的架构和传统应用不太一样，它有四个核心部分

前端（User Interface）：就是你看到的界面。

作用：让用户能和 Dapp 互动

不同点：它需要连接区块链钱包（比如 MetaMask），这样用户才能用自己的加密货币进行操作和交易

智能合约（Smart Contracts）：这是 Dapp 的大脑。

作用：定义了应用的所有业务逻辑，比如“转账”或者“创建投票”

不同点：它不是运行在服务器上，而是部署在区块链上。一旦写好就不能修改，所以非常安全、透明

数据检索器（Indexer）：这是 Dapp 的“数据管理员”。

作用：智能合约上的数据很难直接读取，所以需要一个检索器来监听智能合约发出的**“事件”（Event）**，然后把这些数据整理好，存到传统的数据库里

不同点：它解决了 Dapp 前端展示数据时遇到的效率问题，让用户能更快地看到想要的信息

区块链和去中心化存储（Blockchain & Decentralized Storage）：这是 Dapp 的地基和仓库。

作用：区块链用来存储智能合约和所有交易记录。去中心化存储（比如 IPFS）用来存图片、视频等大文件

不同点：所有数据都备份在多个节点上，而不是由单一公司控制，所以不容易丢失或被篡改

二 Dapp 开发流程
Dapp 的开发是一个系统性的工程，通常分为以下几个步骤

需求分析与规划

做什么：首先要明确你的 Dapp 想解决什么问题，有什么功能

选平台：然后决定要在哪个区块链上开发（比如以太坊、Solana），这就像你决定是在 iOS 还是安卓上开发手机应用一样

设计：设计好 Dapp 的界面和交互流程，让用户用起来舒服

智能合约开发

编写：用 Solidity 语言写好智能合约，实现所有核心业务逻辑

测试：编写单元测试来检查合约有没有 bug

审计：找专业的安全团队对合约进行安全审计，确保没有漏洞，防止黑客攻击

检索器开发

确定数据：明确 Dapp 前端需要展示哪些数据

编写：编写程序来监听智能合约事件，把数据存入数据库

部署：使用 Docker 等工具将检索器部署到服务器上，保证它能持续运行

前端开发

框架：用 React 或 Vue 等框架构建用户界面

连接钱包：集成 MetaMask 等钱包，让用户能够连接 Dapp

展示数据：从区块链和检索器里获取数据，在界面上显示出来

处理交易：当用户发起交易时，前端会调用钱包签名，然后把交易发送到区块链

部署与上线

部署合约：用 Hardhat 或 Foundry 等工具把智能合约部署到测试网或主网

部署前端：把前端应用部署到服务器或者 IPFS 上

发布：Dapp 正式上线后，需要持续维护、收集用户反馈、修复 bug

# 2025-08-07

### 一 技术岗

#### 1 前端工程师

主要职责：

- 开发基于区块链技术的前端应用 支持去中心化平台的交互
- 使用 React Vue 等框架实现高效的用户界面
- 集成并优化智能合约的前端交互 确保链上数据与用户界面的无缝连接
- 通过 GraphQL 或 RESTful API 获取链上和链下数据
- 持续优化前端性能 提升用户体验
- 参与技术评审与分享 不断优化产品架构与代码质量

职位要求：

- 本科及以上学历 计算机科学或相关专业
- 精通 HTML CSS JavaScript 熟悉 React Vue 等前端框架
- 熟悉 Web3js Viem Metamask 等 Web3 技术栈 能够与智能合约进行交互
- 具备 Dapp 开发经验者优先
- 熟悉 Git 版本管理
- 良好的沟通能力和团队协作精神

常用技术栈：

- HTML5
- CSS3
- JavaScript (ES6+)
- React / Vue
- TypeScript
- Nextjs
- Viem

#### 2 后端工程师

主要职责：

- 开发和维护去中心化应用（Dapp）的后端服务
- 确保前后端数据交互的高效性和稳定性
- 基于 Nodejs Python 等技术栈构建高性能的 RESTful 或 GraphQL API
- 确保智能合约与后端服务的无缝连接
- 优化后端性能 确保系统的高可用性
- 参与 Web3 技术的前沿研究 推动技术迭代

职位要求：

- 本科及以上学历 计算机科学或相关专业
- 精通 Nodejs Go Python 等后端开发语言
- 熟悉 Viem Web3js Ethersjs 等 Web3 工具
- 具备 RESTful API 或 GraphQL 开发经验
- 熟悉数据库技术
- 对智能合约有一定了解
- 熟悉容器化技术（如 Docker Kubernetes）
- 良好的代码编写规范与文档写作能力

常用技术栈：

- Nodejs / Go / Python
- Viem / Web3js / Ethersjs
- RESTful API / GraphQL
- MySQL / PostgreSQL
- Docker / Kubernetes

#### 3 智能合约工程师

主要职责：

- 设计、开发和部署智能合约
- 使用 Solidity 编写智能合约 涵盖 NFT DeFi DAO 等需求
- 部署智能合约至区块链网络
- 编写智能合约的单元测试 进行代码审计与安全性测试
- 优化智能合约性能 减少 Gas 费用
- 研究和应用最新的区块链技术和智能合约最佳实践
- 与前后端团队协作 确保系统顺畅集成
- 为团队成员提供技术支持和指导

职位要求：

- 本科及以上学历 计算机科学或相关专业
- 3 年以上智能合约开发经验
- 熟悉主流区块链平台如 Ethereum Polygon 等
- 具备智能合约审计和漏洞修复经验 熟悉常见攻击模式
- 熟悉区块链的基本原理
- 熟练使用 Foundry Hardhat 等开发框架
- 熟悉 IPFS NFT Token 标准（ERC-20 ERC-721 ERC-1155 等）

常用技术栈：

- Solidity
- Remix
- Foundry / Hardhat
- Phalcon / Tenderly
- Yul

### 二 非技术岗

#### 1 产品与运营

职位描述：

- 协调产品发布、用户反馈收集和持续改进流程
- 执行以用户获取、留存和参与度提升为目标的增长战略
- 与产品、技术、市场及合规团队紧密合作
- 持续分析运营数据 跟踪关键绩效指标（KPIs）

职位要求：

- 熟悉产品上线（Go-to-market）全流程
- 具备扎实的数据分析能力 熟练使用 SQL Excel 或其他数据工具

#### 2 社区管理

职位描述：

- 构建并管理 Telegram Twitter（X）Discord 等社交平台的社区
- 组织线上 AMA、活动、竞赛等互动 提升用户活跃度
- 跟踪社区健康度指标和情感分析
- 与营销团队协作 制定并执行内容日历

职位要求：

- Web3 DAO 或 NFT 社区管理经验
- 出色的文案撰写与沟通能力
- 熟练使用社区数据分析工具
- 具备活动策划与执行能力

常用平台：

- Telegram
- Twitter (X)
- Discord

#### 3 研究分析

职位描述：

- 收集、整理并分析 Web3 行业市场与用户数据
- 跟踪区块链协议技术演进及生态动态
- 进行竞争对手分析 评估市场趋势与用户行为模式
- 支持项目的加密经济模型设计与博弈论分析

职位要求：

- 熟练使用 Excel SPSS 或 Python 等数据分析工具
- 深入了解区块链生态 DeFi 协议及加密经济学原理
- 优秀的报告撰写与演示能力
- 精通链上数据分析工具（Glassnode Token Terminal）

常用工具：

- Excel
- SPSS
- Python
- Glassnode
- Token Terminal

### 扩展阅读

求职平台推荐：

- DeJob - 中文
- SmartDeer - 中文
- 电鸭社区 - 中文
- Web3Career - 英文
- CryptoJobs - 英文

# 2025-08-06

### Web3 法律与安全风险笔记

**总的来说**：在中国，Web3 行业很复杂。技术创新本身不被禁止，但只要碰上“钱”（尤其是代币发行、交易），就非常危险

### 一、法律风险：红线在哪里？

- **发币是绝对红线**：只要你发币（不管你叫它“积分”还是“凭证”），让大家能炒作、交易，那基本就属于**非法集资**了。哪怕你只是个写代码的，也可能被当成**同犯**
- **小心变“赌场”和“传销”**：
  - **赌场**：如果你的链游或项目有**“充值 → 抽奖 → 提现”**这种模式，就很可能被认定为**开设赌场罪**
  - **传销**：如果有**“拉人头，拿返利”**这种模式，那就可能触犯**组织、领导传销活动罪**。
- **场外交易的坑**：用虚拟货币换人民币或外币，很容易卷入**洗钱**。你收到的钱可能来自诈骗、赌博等犯罪活动，导致你的银行卡被冻结，甚至被判**洗钱罪**
- **民事纠纷不被保护**：如果你和别人因为虚拟货币交易、代投等发生纠纷，去法院很可能**不被受理**。因为国家不承认虚拟货币的合法货币地位，所以合同可能被判无效

### 二、入职风险：找工作要擦亮眼

- **雇佣关系很虚**：很多 Web3 公司都在国外注册，在国内没有实体公司。你跟他们工作，可能**没有正式的劳动合同和五险一金**。这会影响你的落户、买房、子女教育等
- **工资发放不合规**：Web3 公司常发 USDT 或项目自己的 Token，但按中国法律，工资必须用人民币。如果你拿了 Token，一旦项目失败，你的工资可能直接**归零**
- **出金风险**：把 USDT 换成人民币，是最高风险的一步。如果你收到了“黑钱”，你的银行卡会被冻结，你还可能因为**帮助信息网络犯罪活动罪**而被追究责任
- **项目本身就不合法**：入职前一定要查清楚，项目是不是搞传销、赌博，或者非法集资。如果你参与了，即使你只是个普通员工，也可能被**当成同犯**

### 三、网络安全风险：别当“小白”

- **钓鱼攻击**：最常见的骗局。黑客会冒充 HR、学校老师、学长学姐，发给你假的链接或文件
  - **教训**：
    - 面试只用官方软件，**别装任何来路不明的“内部软件”**
    - 任何让你**连接钱包、输入助记词**的链接都是骗子
    - **转账前一定要再三确认地址**，别光靠复制粘贴
- **恶意软件/木马**：
  - **怎么中招**：黑客把木马伪装成学习资料、破解工具、甚至面试软件
  - **教训**：
    - 所有软件、插件都**只从官网下载**
    - **别在电脑上保存助记词、私钥**
- **社交工程攻击**：
  - **怎么中招**：黑客冒充你信任的人，通过聊天来骗你。比如“学长”给你发实习链接、或者“朋友”找你借钱
  - **教训**：
    - **不要轻信任何私聊和链接**
    - 遇到借钱，**多方确认**
- **防护措施**：
  - **软件**：只从官网下载，用防火墙和权限管理
  - **账户**：所有重要账户都**开启双因素验证（2FA）**，用密码管理器设置不同的强密码
  - **钱包**：助记词离线保存，**别截图，别上传网盘**。转账前仔细核对地址，定期检查钱包授权

# 2025-08-05

# 行业赛道全览学习笔记

区块链现在发展出了很多好玩的东西，主要有四块：

- **DeFi**：去中心化金融，就是没有银行的金融世界
- **NFT**：数字世界里的“唯一资产”，证明你是某个数字物品的真正主人
- **DAO**：去中心化组织，大家一起投票做决定，没有老板
- **MEME**：以“梗文化”为主的币，靠社区和人气，炒作风险很高

## 一、DeFi：没有银行的金融世界

### **1. Uniswap：自动换钱机**

- **它是什么**：一个去中心化的交易所，用来换各种加密货币
- **怎么运作**：它不是那种传统的挂单交易（买家等卖家），而是用一个“流动性池”**。你把两种币存进去，就成了**“流动性提供者”（LP）
- **核心原理**：有个公式 **x×y=k**。这公式保证池子里两种币的价值是平衡的。当有人换币时，两种币的数量变化，价格也会自动调整
- **LP 怎么赚钱**：你存了钱，别人每次交易都会付手续费，手续费会按比例分给你

### **2. Compound：去中心化当铺**

- **它是什么**：一个借贷平台
- **怎么借贷**：你要借钱，就得拿自己的币（比如 ETH）做**超额抵押**。比如你抵押 1000 美元的 ETH，可能只能借到 700 美元
- **有什么风险**：如果 ETH 价格跌太多，你的抵押物就不够了，系统会**自动把你抵押的币卖掉**来还债。这叫**强制清算**
- **怎么赚钱**：你把币存进去，就会得到利息收入

### **3. MakerDAO (现在叫 Sky)：生钱的保险箱**

- **它是什么**：一个专门用来生成**稳定币 DAI** 的系统
- **DAI 是什么**：一种价格永远和 1 美元挂钩的加密货币
- **怎么生成 DAI**：你得抵押自己的币（比如 ETH），然后才能借出 DAI。跟 Compound 差不多，也是**超额抵押**
- **核心功能**：通过调整“稳定费率”来控制 DAI 的价格，让它一直保持在 1 美元左右

## 二、NFT：数字资产的独家拥有权

- **NFT 的本质**：它让数字世界有了“唯一性”**和**“所有权”以前图片可以无限复制，但有了 NFT，这张图片的“所有权”是独一无二的，且记录在区块链上，谁也改不了
- **智能合约的作用**：它就像 NFT 的“说明书”，可以设定各种规则，比如每次转卖，原作者都能自动收到“版税”，不用第三方
- **经典案例**：
  - **CryptoPunks**：NFT 的鼻祖，10000 个像素风头像
  - **OpenSea**：最大的 NFT 交易平台，就像线上的“拍卖行”

## 三、DAO：大家一起做主

- **DAO 是什么**：**去中心化自治组织**，没有老板，没有公司架构。所有决策都通过社区成员**投票**来决定
- **经典案例**：
  - **Nouns DAO**：每天卖一个 NFT 赚来的钱，都存到金库里，然后社区投票决定怎么花这笔钱
  - **ConstitutionDAO**：一群人想众筹买一份《美国宪法》原件。虽然最后没买到，但这个事说明了 DAO 可以迅速汇集巨额资金，让大家一起做一件大事。不过也暴露了问题：太透明了，别人知道你多少钱，很容易被针对
  - **南塘 DAO**：一个很酷的例子，把 Web3 的技术用在了**乡村建设**上。他们发了一种社区代币叫“南塘豆”，村民可以用它买东西，还能参与村里的决策

## 四、MEME：网络梗文化和投资热潮

- **MEME 币是什么**：就是基于网络梗（比如狗、青蛙）的代币，没什么实际技术价值，纯粹靠社区的热情和共识
- **怎么火的**：很多时候是靠名人效应（比如马斯克发推特的 **DOGE**）或者强大的社区文化
- **风险很高**：这玩意儿**投机性极强**，价格涨跌像过山车。很多项目背后都缺乏实际应用，很容易暴跌，新手一定要注意

## 五、新兴趋势：技术大融合

- **DeFi + NFT**：现在能用 NFT 做抵押品，在 DeFi 平台借钱了
- **DAO + MEME**：社区治理和文化梗结合，让 MEME 币的社区有更多治理功能，比如 **Shiba Inu** 的社区
- **AI + Web3**：AI 和区块链结合，可以有更智能的投资策略、风险管理和交易路径
- **意图驱动（Intent-Based）**：以后你不用自己手动操作了，告诉系统你想做什么（比如“我想用 100 USDC 换最多的 ETH”），它会自动帮你找到最佳路径

# 2025-08-04

# 区块链学习笔记 

## **啥是区块链？**

- **简单理解**：就是一个公开的、不能改的账本，所有人都能看，但没人能把它改掉。这个账本不是存在一个地方，而是每个参与的人（节点）都有一份
- **链和区块**：它是一系列“区块”按时间顺序连起来的。每个**区块**里装着一堆交易记录，然后这个区块会用一个特别的“哈希”（可以理解成指纹）和前一个区块连起来。所以，如果你想改其中一个区块，后面所有的“指纹”就全对不上了，也就改不了了
- **为啥不能改？**：因为这个账本有很多份，散落在世界各地。除非你能控制超过一半的账本，不然你的改动根本没人认

------

## **为啥要有人维护这个账本？**

- **拿奖励啊！**：这些维护账本的人叫“矿工”，他们会帮忙验证交易、打包成区块。作为报酬，他们能得到一些代币，比如**比特币**
- **代币是啥？**：就是一种数字货币。因为数量有限，而且可以自由转账，所以它就像钱一样有价值

------

## **三种不同类型的区块链**

- **公链（Public Blockchain）**：想象成一个完全开放的大公园。
  - **谁都能进**：任何人都能参与，都能当节点，比如比特币、以太坊
  - **超级透明**：所有信息都是公开的，所有人都能看
  - **缺点**：因为人多，效率会比较慢，而且费用也高
- **联盟链（Consortium Blockchain）**：像一个公司联盟的董事会
  - **邀请制**：只有被邀请的公司才能加入，比如几家银行一起搞个链
  - **半透明**：数据只在联盟内部公开，外人看不到
  - **特点**：效率比公链高，但不如私链快
- **私链（Private Blockchain）**：一个私人俱乐部
  - **老板说了算**：只有一个老板（或一个组织）控制一切，想让谁进来谁才能进来
  - **完全保密**：数据只对内部成员可见
  - **优点**：效率最高，隐私性最强，但不是真正的去中心化

------

## **Web3 和 Web 3.0，不是一回事！**

- **Web2（现在的互联网）**：中心化，数据都被大公司（比如微信、谷歌）控制着。你在网上发的东西，其实都是“租”人家的房子
- **Web 3.0（语义网）**：这个和区块链没关系。它是一种让计算机更懂数据的技术，就像给图书馆每本书都贴上详细的标签，方便机器查找
- **Web3（去中心化互联网）**：这才是跟区块链相关的
  - **核心思想**：让数据和资产真正归你所有，而不是被平台控制
  - **例子**：你的游戏道具或NFT头像，就算是游戏公司倒闭了，它们也还在你自己的钱包里
  - **怎么运作**：用区块链、智能合约这些技术
  - **区别**：Web3 是“你自己盖房”，Web2是“租别人的房”

------

## **去中心化好不好？**

- **优点**：
  - **信任度高**：不用相信任何一个大公司，因为规则是代码定的
  - **没人能审查**：你的数据很难被删掉或审查
  - **资产真正归你**：你的钱和数字资产都在你自己的钱包里，没人能冻结
- **缺点**：
  - **效率低**：因为要所有节点都确认，所以交易速度慢
  - **操作难**：管理钱包和私钥对普通人来说挺麻烦的
  - **有漏洞就麻烦**：如果代码写错了，那就完了，没办法改回来

# 以太坊学习笔记

## **以太坊是啥？**

- **一句话总结**：它不只是一个币（ETH），更像一台**“全球共享电脑”**，比特币是用来当钱的，以太坊是用来**跑程序的
- **核心功能**：**智能合约**，你可以理解为一段代码，它能自动执行，而且写好之后就没法改了，比如，A 往合约里转了 10 ETH，合约就自动把一个 NFT 转给 A，不用第三个人来操作
- **创始人**：一个叫 **V 神 (Vitalik Buterin)** 的小哥，天才程序员

## 以太坊 vs 比特币

| 对比点       | 比特币                                      | 以太坊                                                  |
| ------------ | ------------------------------------------- | ------------------------------------------------------- |
| **目的**     | 就是**数字黄金**，一种去中心化的钱        | 一个**平台**，用来开发各种应用（DeFi、NFT）           |
| **编程能力** | 很有限，只能做简单的交易                  | **图灵完备**，可以写很复杂的程序                      |
| **共识机制** | **PoW**（工作量证明），俗称“挖矿”，很耗电 | 从 PoW **升级到了 PoS**（权益证明），更环保，不挖矿了 |
| **速度**     | 慢，10 分钟才出一个区块                   | 快很多，12 秒一个区块                                 |

## 以太坊的大升级：The Merge

- **啥是 PoW？**：就是“挖矿”。矿工们用超强电脑比拼算力，谁算得快谁就能打包区块，然后得到 ETH 奖励。这很费电
- **为啥要改？**：太耗电了！为了环保和效率，以太坊决定改
- **咋改的？**：这就是 **The Merge (合并)**。以太坊先跑了一条新的 **“信标链”**，专门用 PoS 机制。然后，在 2022 年 9 月，把原来的主链（PoW 链）和这条信标链“合二为一”，就成功从 PoW 变成了 PoS。
- **PoS 又是啥？**：**权益证明**。不用比算力了，只要你抵押 32 个 ETH，就能成为**验证者**，系统会随机选你来打包区块，然后给你奖励。如果乱搞，抵押的 ETH 就会被没收
- **好处**：能耗直接降低 **99.95%**，快了，也更安全了

## 未来发展：解决“慢和贵”的问题

- **主要目标**：让以太坊更快、更便宜
- **怎么做**：
  - **Layer 2 (二层网络)**：主网太堵了，那就在主网外面另建一层来处理交易，然后定期把结果打包提交给主网，比如 Arbitrum 和 Optimism
  - **EIP-4844 (Cancun 升级)**：这个升级专门为 Layer 2 设计，它提供了一种叫 **“Blob”** 的新交易类型，能让 L2 提交数据到主网的成本**便宜 90%**，效果就是，现在在 L2 上转账只要几美分
  - **分片技术**：把以太坊主网拆分成很多“碎片”，每个碎片都能并行处理数据。这个还没完全实现，但是未来会让整个网络容量大增
  - **ZK-Rollup**：一种很酷的技术。它能把几百个交易打包，然后生成一个“正确性证明”，主网只要验证这个证明就行了，不用一个个去检查交易。这会让交易又快又便宜

## 以太坊的生态

- **L1 (一层网络)**：以太坊主网，安全可靠，但是慢且贵
- **L2 (二层网络)**：在主网外面跑的扩容方案，比如 Arbitrum 和 Optimism，速度快且便宜
- **应用层**：就是我们日常用的那些应用，比如：
  - **DeFi**：借贷、理财的应用，像 Uniswap、Aave
  - **NFT**：数字艺术品平台，像 OpenSea
  - **钱包**：比如 MetaMask，我们的数字身份和资产都在里面

## 以太坊里的术语

- **账户系统**：
  - **EOA (外部账户)**：我们自己的钱包，由私钥控制，可以主动发起交易
  - **CA (合约账户)**：智能合约本身，由代码控制，只能被动执行，不能主动发起交易
- **Gas 模型**：
  - **Gas**：就是你在以太坊上操作要付的“燃料费”
  - **Gas Limit**：你愿意为这笔交易支付的**最高费用**上限
  - **Gas Price**：每单位燃料的**单价**
  - **EIP-1559**：这个升级让 Gas 费一部分会自动销毁，有助于 ETH 变得“通缩”（更稀有）。
- **EVM (以太坊虚拟机)**：以太坊的“大脑”。它在每个节点上运行，确保所有智能合约的执行结果都是一样的


# 2025.07.29


<!-- Content_END -->
