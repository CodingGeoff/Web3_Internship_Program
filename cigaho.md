---
timezone: UTC+8
---

# cigaho

**GitHub ID:** cigaho

**Telegram:** @null

## Self-introduction

HKU大三Fintech专业在读, 对blockchain 生态有一定了解, 掌握solidity, javasciprt, 希望能在活动中对Web3有更深入了解

## Notes

<!-- Content_START -->
# 2025-08-07

# Part 2: 智能合约开发

## DApp 架构详解

### 核心组件：
1. **前端界面**
   - 使用 HTML/CSS/JS 构建用户界面
   - 特殊功能：集成钱包交互（如 MetaMask）
   - 关键特性：隐私保护机制（交易签名流程）
   
2. **智能合约层**
   - DApp 的核心业务逻辑实现
   - 部署在区块链上保证去中心化执行

3. **数据索引器 (Indexer)**
   - 监听智能合约事件（Events）
   - 将链上数据同步到传统数据库（如 PostgreSQL）
   - 解决链上数据查询效率问题

4. **存储层**
   - **区块链**：核心数据和交易记录
   - **去中心化存储**：
     - IPFS：分布式文件存储系统
     - Arweave：永久性存储方案
     - 多节点备份防止数据丢失

## DApp 开发全流程

1. **需求分析阶段**
   - 确定功能需求和应用场景
   - 选择目标区块链平台（EVM链/Solana等）
   - 设计用户体验（重点关注钱包交互）

2. **智能合约开发**
   - 合约编写：使用 Solidity/Rust 等语言
   - 测试用例：编写单元测试和集成测试
   - 安全审计：第三方审计 + 自动工具扫描
   - Gas 优化：减少执行成本

3. **索引器开发**
   - 设计数据模型和同步逻辑
   - 选择技术栈（如 The Graph 或自定义方案）
   - 部署与持续维护

4. **前端开发**
   - 技术选型：React/Vue + Web3 库
   - 核心功能开发：
     - 钱包连接与授权
     - 数据展示（实时+历史）
     - 交易签名与状态管理
   - 错误处理和用户通知

5. **区块链交互**
   - 技术实现：使用 Web3.js/Ethers.js/Viem
   - 交易流程：
     1. 初始化钱包连接
     2. 用户授权（请求签名）
     3. 实例化合约对象
     4. 函数调用
     5. 交易签名
     6. 广播上链
     7. 状态更新反馈

6. **部署上线**
   - 智能合约部署（测试网 → 主网）
   - 前端应用部署（去中心化存储/IPFS）
   - 持续监控与维护

## Solidity 开发关键要点

### 安全防护
1. **重入攻击 (Reentrancy)**
   - 防护：采用"检查-生效-交互"模式
   - 工具：OpenZeppelin 的 ReentrancyGuard

2. **权限控制漏洞**
   - 使用修饰符：`onlyOwner`、`onlyRole`
   - 最小权限原则

3. **整数溢出/下溢**
   - Solidity ≥0.8.0 自带溢出保护
   - 旧版本使用 SafeMath 库

### 部署实践
- 严格测试流程：本地测试 → 测试网部署 → 主网部署
- 部署验证：
  - 交易哈希 (TxHash) 确认
  - 合约地址验证
  - 事件日志分析

## 区块链前端整合技术

### 交互关键技术栈
| 类别 | 技术方案 |
|------|----------|
| 合约交互 | Web3.js, Ethers.js, Viem |
| 钱包连接 | MetaMask, WalletConnect, Coinbase Wallet SDK |
| 状态管理 | Redux, Zustand, React Context |
| 错误处理 | 自定义错误边界 + 交易回执分析 |

### ABI 核心作用
- **合约ABI (Application Binary Interface)**：
  - 合约方法的二进制接口规范
  - 前端以 JSON 格式加载
  - 实现前后端数据类型转换
json

// 示例 ABI 片段

[

{

"inputs": [],

"name": "getBalance",

"outputs": [{"type": "uint256"}],

"stateMutability": "view",

"type": "function"

}

]
## Gas 优化策略

1. **存储优化**
 - 优先使用 `memory` 替代 `storage`
 - 批量操作减少状态变更次数

2. **数据压缩**
 - 位封装技术（如：`uint128` → `uint256`）
 - 数据打包（struct 字段紧凑布局）

3. **逻辑优化**
 - 循环外预计算
 - 避免冗余检查
 - 使用短路模式（|| / &&）

4. **函数优化**
 - 合理选择可见性（private < internal < public < external）
 - 视图函数声明 `view`/`pure`

## 智能合约审计工具

1. **Slither**
 - Python 静态分析工具
 - 检测 100+ 种安全漏洞
 - 代码规范检查

2. **MythX**
 - 云平台安全分析服务
 - 支持多种检测引擎
 - CI/CD 集成友好

3. **Foundry**
 - 内置安全检测工具：`forge inspect`
 - 模糊测试(Fuzzing)支持
 - 快速漏洞检测

## Layer2 解决方案比较

| 解决方案 | 核心技术 | 编程语言 | 主要优势 |
|----------|----------|----------|----------|
| **Starknet** | ZK-STARK | Cairo | 极高的扩展性，数学证明安全性 |
| **zkSync** | ZK-Rollup | Solidity | 无缝开发者体验，主网兼容 |
| **Arbitrum** | Optimistic Rollup | Solidity | 全兼容EVM工具链，生态丰富 |
| **Base** | OP Stack | Solidity | Coinbase生态支持，低成本部署 |

# 2025-08-06

# Part3: 行业赛道全览

## DeFi (去中心化金融)

1.  **Uniswap**
    *   **定位:** 去中心化交易所(DEX)的龙头代表。
    *   **核心机制:** 使用`恒定乘积公式 (x * y = k)`实现代币自动定价。
    *   **流动性提供:** 用户通过存入资产成为**流动性提供者(LP - Liquidity Provider)**。LP提供的资金被用于用户间兑换交易。作为回报，LP可以赚取该交易池产生的部分手续费。
    *   **DEX核心优势:**
        *   **无需中介:** 用户完全掌控自己的资金。
        *   **全天候运作:** 无休止运行。
        *   **大额交易限制少:** 对比中心化交易所(CEX)，交易额度通常不受平台人为限制。

2.  **Compound**
    *   **定位:** 领先的去中心化借贷协议。
    *   **核心机制:** 基于**超额抵押借贷**模型。用户存入资产作为抵押品，才能借出其他资产。
    *   **利率:** 借/贷利率会根据资产的**供给与需求**动态、算法化地调整。
    *   **风险管理:** 如果抵押品价值低于预设阈值（抵押不足），系统会触发**强制清算**以偿还债务，保护协议和贷方资金安全。

3.  **MakerDAO (Sky)**
    *   **定位:** 去中心化的稳定币系统（已更名为Sky）。
    *   **核心机制:** 允许用户**超额抵押**各种加密资产（如ETH），以生成与美元1:1锚定的去中心化稳定币**DAI**。
    *   **稳定性机制:** 通过调整**稳定费率**来调节DAI的市场供需，从而维持DAI与美元的挂钩。

## NFT (非同质化代币)

*   **核心价值:** 代表**数字资产的唯一性**和**链上可验证的所有权**。
*   **技术基础:** 通常基于`ERC-721`或`ERC-1155`等智能合约标准。
*   **OpenSea:**
    *   **定位:** 全球最大的**NFT交易平台**。
    *   **核心优势:** 显著提升了NFT的**可访问性**，让普通用户也能轻松参与NFT的买卖。

## DAO (去中心化自治组织)

*   **定义:** Decentralized Autonomy Organization。
*   **本质:** 一种利用区块链技术和智能合约来实现**规则透明、成员共治、资产共享**的新型协作组织形态。决策权通常由组织的原生代币或凭证持有者共同参与。

## MEME 币

*   **核心驱动:** 基于互联网文化或迷因(Meme)而产生和传播的代币（如DOGE）。
*   **价值来源:** 主要依赖于**社区共识**、**网络文化热度**和**投机情绪**，其本身可能缺乏技术应用或底层价值支撑。
*   **特点:**
    *   **短期效应强:** 通常具有显著的短期炒作特征。
    *   **高风险高波动:** 价格波动剧烈，投资风险极高。
    *   **谨慎提示:** 投资者需高度注意风险，仅投入可承受损失的资金。

## 新兴发展趋势

### 1. 基于意图的交易 (Intent-Based Transactions)
*   **概念:** 用户只需声明其交易**目标状态**（如“我愿用1个ETH换取至少3000个DAI”），协议会自动找到并执行最优路径完成目标，用户无需手动操作复杂步骤（如路由、滑点设置）。
*   **核心技术支撑:**
    *   **求解器网络 (Solver Network):** 竞争性地为用户意图寻找最优解决方案的网络节点。
    *   **意图标准化 (Intent Standardization):** 建立描述用户意图的标准格式。
    *   **跨链流动性聚合:** 整合多条链上的流动性来源。
*   **代表项目:** UniswapX, 1inch Fusion, CoW Protocol.

### 2. 账户抽象与智能钱包 (Account Abstraction / Smart Wallets)
*   **核心标准:** ERC-4337。
*   **目标:** 让**普通用户账户**也能拥有类似智能合约的灵活性和可编程性，大幅改善用户体验。
*   **核心功能:**
    *   **Gas代付:** 允许第三方为用户支付交易费（Gas费）。
    *   **社交恢复:** 用可信赖的社交联系人（守护者）机制取代易丢失的私钥，用于账户恢复。
    *   **批量交易:** 将多个操作打包成一个交易提交。
    *   **自定义验证逻辑:** 设置如多签、时间锁、支出限额等复杂的交易验证规则。
*   **代表项目:** Safe (原Gnosis Safe), Argent, ZeroDev.

### 3. 模块化区块链 (Modular Blockchains)
*   **核心理念:** 打破“单一区块链处理所有功能（共识、数据、结算、执行）”的模式，将区块链的**核心功能分层拆分**，由专门的、可互操作的层分别处理，提升整体网络的可扩展性、灵活性和效率。
*   **核心层级划分:**
    1.  **结算层 (Settlement Layer):** 处理最终交易结算和解决争议（如以太坊主网）。
    2.  **数据可用性层 (Data Availability Layer):** 确保交易数据公开可验证并易于获取（如Celestia）。
    3.  **执行层 (Execution Layer):** 处理智能合约执行和交易计算（如Optimism Rollup）。
    4.  **共识层 (Consensus Layer):** 保证全网对交易顺序和状态达成一致。
*   **代表项目/方案:**
    *   专注于**数据可用性层:** Celestia.
    *   **执行层框架:** Polygon CDK, OP Stack (用于构建Layer2 Rollup)。

### 4. AI + Web3 融合
*   **主要探索方向:**
    1.  **去中心化AI训练/推理:** 构建分布式网络，共享算力、数据和模型，挑战中心化AI巨头。
    2.  **AI代理:** 具有自主决策和执行能力的链上/链下AI代理，可用于自动化交易、信息收集、复杂协议交互等。
    3.  **市场预测:** 利用AI模型分析链上/链下数据，提供更精准的预测市场或交易策略。
    4.  **AI驱动的NFT/内容生成:** 使用AI生成独特的艺术、游戏资产或音乐NFT等。
*   **代表项目:** Fetch.ai (AI代理)，SingularityNET (去中心化AI市场)，Render Network (去中心化GPU算力渲染/通用计算)。

# Section 2: Web3行业知识

## Part1: 区块链岗位全景图

### 1. 技术岗

#### (1) 前端工程师 (Web3 Frontend Engineer)
*   **核心职责:** 支持去中心化平台开发，构建用户界面并与智能合约交互。
*   **核心技术栈:**
    *   **基础技术:** HTML5, CSS3, JavaScript (ES6+), TypeScript
    *   **框架/库:** React / Vue
    *   **框架/工具:** Next.js
    *   **区块链交互:** Ethers.js / Web3.js / **Viem** (作为Web3.js的现代轻量级替代)， Metamask集成
    *   **知识要求:** 熟悉以太坊、Solana等主流区块链平台原理及其DApp开发模式。

#### (2) 后端工程师 (Web3 Backend Engineer)
*   **核心职责:** 精通服务器端开发，构建高并发、分布式系统，提供API服务、处理数据库查询、支持链下业务逻辑。
*   **核心技术栈:**
    *   **服务端语言:** Node.js / Go / Python
    *   **区块链交互库:** Viem / Web3.js / Ethers.js (主要用于链上监听、数据索引、交易提交等)
    *   **API协议:** RESTful API / GraphQL
    *   **数据库:** MySQL / PostgreSQL
    *   **部署运维:** Docker / Kubernetes

#### (3) 智能合约工程师 (Smart Contract Engineer)
*   **核心职责:** 设计、开发、审计、测试、部署安全高效的智能合约，满足各类业务需求（如代币发行、DEX、借贷、NFT等），并持续优化Gas消耗。
*   **核心技术栈:**
    *   **合约语言:** Solidity (主流)
    *   **开发环境/IDE:** Remix (在线IDE)
    *   **开发框架/测试套件:** Foundry (Rust基础，现代高效) / Hardhat (JavaScript/TypeScript基础，生态丰富)
    *   **合约分析/调试/监控:** Phalcon (Explorer/Blockchain Bot) / Tenderly (开发调试、监控、模拟环境)
    *   **底层优化:** Yul (EVM汇编层语言，用于编写高度优化的合约逻辑)

### 2. 非技术岗

#### (1) 产品与运营 (Product & Operations)
*   **核心职责:**
    *   协调产品的规划、设计、开发与发布流程。
    *   收集用户反馈并推动产品迭代改进。
    *   深入理解客户需求，驱动产品满足市场需求。

#### (2) 社区管理 (Community Management)
*   **核心职责:**
    *   在Telegram, Twitter (X), Discord, Reddit等社交平台上建立、维护和活跃项目社区。
    *   发布项目信息、解答疑问、组织活动。
    *   核心目标是进行项目宣传推广、提升品牌知名度与用户忠诚度。

#### (3) 研究分析 (Research & Analysis)
*   **核心职责:**
    *   收集、整理、分析Web3行业动态、市场趋势、竞品信息。
    *   编写可行性研究报告、市场分析报告。
    *   为产品决策、战略规划和运营策略提供数据与理论支持。

# 2025-08-05

## Part 2: 以太坊概览

### 基础定位
- 区块链2.0代表
- 不仅是加密货币（ETH市值第二），更是全球共享的智能合约计算机
- 核心：智能合约（存储在区块链的可执行代码）
- 可编程属性支持广泛场景（对比BTC纯交易属性）

### 发展演进
- **1.0阶段**：PoW机制，存在高能耗/可扩展性差问题
- **The Merge升级**（2020.12分叉PoS链 → 2022.09主网合并）
- **当前结构**：  
  执行层（主链处理交易+智能合约）  
  共识层（验证管理）
- **扩容方案**：  
  - Layer 2分层提升容量/速度  
  - 2025-2026计划全面分片
- **EIP-4644（Cancun升级）**：  
  引入“Blob交易”降低L2数据存储成本
- **ZK-Rollup技术**：  
  验证交易证明替代单交易验证，节约主网资源

### 生态分类
1. **应用层**  
   DeFi应用 / NFT平台 / 钱包 / DAO工具
2. **协议层**  
   - 共识层客户端：Prysm, Nimbus, Teku  
   - 执行层客户端：Geth, Nethermind  
   - 核心协议：EVM, Gas机制
3. **扩展层**  
   Layer 2 / 侧链 / 状态通道（连接侧链与主链）

### 核心价值
- 去中心化治理
- 无需许可的开放性
- 抗审查性

### 关键组件
- **EOA账户字段**：  
  Nonce（防重放计数器） | Balance | CodeHash | StorageRoot
- **Gas机制**：  
  支付矿工费 + 防止资源滥用（如死循环）
- **EVM（以太坊虚拟机）**：  
  智能合约执行引擎 → 确保全网一致可信结果

# 2025-08-04

# 区块链基础与Web3概念笔记

## Part 1: 区块链核心组成
1. **去中心化分布式账本**
   - 节点间安全存储 + 不可篡改 + 交易透明 + 快速结算
   
2. **代币激励机制（BTC示例）**
   - 矿工获得BTC奖励 → 维持网络运作

## 运行流程
1. 用户发起交易  
2. 交易广播至网络  
3. 节点验证交易  
4. 打包成区块  
5. 区块加入链中  
6. 发放矿工奖励  

## 区块链分类
- **公有链**：开放访问 + 高安全 + 速度慢（如BTC）  
- **联盟链**：需授权加入 + 安全速度平衡（如跨境支付链）  
- **私有链**：权限访问 + 高速可控（如企业链）  

## Web概念演进
- **Web2**：中心化控制（中心服务器，可审查/封号）
  - 技术栈：React + Node.js + MySQL
  
- **Web3.0（语义网）**：内容标记化（机器可读）
  - 技术栈：Python + RDFLib + SPARQL
  
- **Web3**：去中心化互联网
  - 特点：智能合约自动执行 + 无中央监管 + 数据永久保存
  - 瓶颈：不适合高频社交 + 资源消耗大
  - 技术栈：React + Ethers.js + Solidity + IPFS

# 2025.07.30


<!-- Content_END -->
