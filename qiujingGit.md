---
timezone: UTC+8
---

# Neil

**GitHub ID:** qiujingGit

**Telegram:** @微信：Q34518362970

## Self-introduction

重庆，想进入web3行业，意向后端开发岗位，INFP，最近在学习go

## Notes

<!-- Content_START -->
# 2025-08-17

### 学习Uniswap设计原理（一）：
v2 版本最大的痛点是资金利用率（Capital Efficiency）太低，v3 版本在解决这个问题的同时，还带了了新的改进，总体总结如下：
- 可灵活选择价格区间提供流动性
- 更好用的预言机
- order book 功能
- 灵活的费率

# 2025-08-16

- 学习Gin和GORM框架使用
- Golang-ethclient示例程序
- 参加晚上关于web3小白初入职场问题解答分享会

# 2025-08-15

### 完成ethernaut前三关卡挑战
### 学习了昨天关于DAPP开发与审计的知识分享视频

# 2025-08-13

### 一、Gas优化技巧
1. 减少存储操作（Storage Write）
   - 读取存储第一次需 2100 gas（后续 100 gas），而内存读取仅 3 gas； -----> 多次访问同一存储数据时
   - 每次写入 storage 的成本高达 20,000 gas；----->  优先使用 memory。
2. 使用位压缩（Bit Packing）
   - 将多个变量压缩到一个 uint256 中以节省存储空间。
```js
struct Packed {
    uint128 a;
    uint128 b;
}
```
3. 减少不必要的运算，如循环时 array.length 缓存到变量中。
4. 函数可见性选择 
   - external 比 public 更节省 gas，适用于仅被外部调用的函数。
### 二、合约安全设计技巧
   - 最小权限原则（Least Privilege）
   - 模块化结构便于审计
   - 显式错误处理与事件记录
###  三、智能合约审计
必要性：
  - 智能合约一旦部署无法修改，审计是风险控制关键手段。
  - 资金安全：避免用户资产被盗。
  - 法律合规：一些监管要求必须审计证明。

# 2025-08-12

### 留言板合约前端整合
1. 交互流程
- 初始化连接：前端检测并连接 Web3 提供者
- 用户授权：请求用户授权访问钱包账户
- 合约实例化：使用 ABI 和合约地址创建合约实例
- 函数调用：通过合约实例调用智能合约函数
- 交易签名：钱包对交易进行数字签名
- 广播交易：将签名交易发送到区块链网络
- 状态更新：获取交易结果并更新前端界面
2. 合约 ABI 
- ABI（Application Binary Interface，应用二进制接口）是智能合约对外提供的接口描述规范。
- 在前端，ABI 以 JSON 格式定义，描述合约中的函数、参数、返回类型等。
- ABI 是实现前端与合约交互的基础，前端可通过 ABI 调用对应函数、读取状态变量。
- 完成 ABI 导入与钱包连接后，通过 Web3.js 创建合约实例，绑定合约地址与 ABI，从而可直接调用合约中的函数接口。
```js
// 创建合约实例
  contract = new web3.eth.Contract(contractABI, address);
```
3. 合约方法调用
- send方法
  - 用于执行状态改变的交易
  - 需要指定 from 参数（发送者地址）
  - 返回交易对象，包含 transactionHash 等信息
  - 用户需要在钱包中确认交易并支付 gas 费用
- call方法
  - 用于执行只读查询或者模拟操作以判断某笔交易是否会成功
  - 不需要 gas 费用，不会改变区块链状态
  - 可以直接获取返回值

# 2025-08-11

### 跟着Web3实习手册上的智能合约章节完成合约开发和部署到测试网部分
### 重新学习巩固go语言基础

# 2025-08-10

## 一、Dapp 架构
1. 前端（User Interface）：
    - 前端页面
    - 使用钱包进行身份验证和签署交易
2. 智能合约（Smart Contracts）：
    - 部署在区块链上的业务逻辑
3.  **数据检索器**（Indexer）：
    - 使用传统的数据库记录智能合约释放的日志事件。
    - 在前端进行数据展示时需要检索器内的数据。一个简单的示例是某 NFT 项目需要展示用户持有的所有 NFT，但是 NFT 合约并不会提供通过输入地址参数返回该地址下的所有 NFT 的函数，此时我们可以运行数据检索器将 Transfer 事件读取后写入传统数据库内，前端可以在传统数据库内检索用户持有的 NFT 数据。
4. 区块链和去中心化存储（Blockchain & Decentralized Storage）：
    - 数据存储如IPFS和Arweave也是中心化的，数据会在多个节点上备份。

## 二、Dapp开发流程
[![dapp.jpg](https://i.postimg.cc/k54ZsDRC/dapp.jpg)](https://postimg.cc/gxCNkzKt)
## 三、智能合约开发范式：
 - 状态机模式：
智能合约本质上是一个状态机，通过交易改变合约状态。
 - 事件驱动编程：
使用事件（Events）记录重要的状态变化，便于前端监听和日志记录。
 - 模块化设计：
通过继承和库（Library）实现代码复用和模块化。
## 四、重入攻击防护
重入攻击（Reentrancy Attack）是智能合约中最常见且危害极大的安全漏洞之一。该攻击方式通常发生在合约向外部地址发送以太币或调用外部合约函数时，攻击者利用回调机制在合约状态更新之前重复调用受影响的函数，从而多次提取资金或重复执行某些操作，造成资产损失或逻辑混乱。

 - 攻击原理简述，典型的重入攻击流程如下：

   - 合约调用外部合约或地址（如 call 发送以太币）；
   - 外部合约在其回调函数中重新调用原合约尚未更新状态的函数；
   - 原合约在状态尚未变更的前提下再次执行逻辑；
   - 攻击者反复进入该函数，实现多次提现等恶意操作。
 - 防护措施：
   - 检查-生效-交互模式（CEI Pattern）：
```js
contract SecureContract {
    mapping(address => uint256) public balances;

    function withdraw() external {
        uint256 amount = balances[msg.sender];
        require(amount > 0, "No balance");

        // 先更新状态
        balances[msg.sender] = 0;

        // 后进行外部调用
        (bool success,) = msg.sender.call{value: amount}("");
        require(success, "Transfer failed");
    }
}
```
   - 重入锁（Reentrancy Guard）：
```js
contract ReentrancyGuard {
    bool private locked;

    modifier noReentrant() {
        require(!locked, "Reentrant call");
        locked = true;
        _;
        locked = false;
    }
}

contract SecureWithGuard is ReentrancyGuard {
    mapping(address => uint256) public balances;

    function withdraw() external noReentrant {
        uint256 amount = balances[msg.sender];
        require(amount > 0, "No balance");

        balances[msg.sender] = 0;
        (bool success,) = msg.sender.call{value: amount}("");
        require(success, "Transfer failed");
    }
}
```

# 2025-08-09

## 复习智能合约和DAPP开发

# 2025-08-08

### 复习回顾相关章节，完成未完成课程
### 参加晚上例会，学习同学优秀学习笔记

# 2025-08-07

### 学习创建第一个NFT：https://nft.myfirst.io/

### 注册并使用 BitWarden 平台管理钱包助记词，并了解了BitWarden的背景(可以保障数据不泄露和不丢失)
### 学到了些秘钥安全方面的小方式，养成以下习惯：
- 保存、转发助记词或者密钥时，采用分段复制 + 手动输入 + 断网等多种方式，降低整体泄漏风险。
- 保持良好的电脑和手机使用习惯，不安装来历不明的软件。
- 很多资深人士的做法是将资产放入硬件钱包，每次需要对外交互的时候，都重新创建一个新钱包，用完即废弃。
### 参会听饶律师关于web3行业从业者的法律知识，判断是否合法的重要经验就是
- 项目是否在明确、受监管的司法辖区内注册
- 是否为了取得合规资质，经过专业机构的第三方审计或安全测试
- 是否具备KYC、AML等反洗钱与用户身份识别制度
- 是否对外公开项目负责人、团队背景、资金来源路径等基本信息
- 是否具备高风险模块
- 是否存在高风险的扩张方式（传销等）

# 2025-08-06

# 安全与合规
自 2017 年以来，中国监管部门已陆续发布多项针对虚拟货币的限制政策，主要包括：
- 禁止 ICO（首次代币发行）；
- 禁止虚拟货币交易所运营与提供撮合服务；
- 明确虚拟货币不具有法偿性，不得作为支付工具；
- 禁止境外交易平台向中国境内居民提供服务；
- 打击以虚拟货币为载体的非法集资、传销、洗钱、赌博等活动。

中国刑法中不仅规定了属地管辖，同时也规定了属人管辖，也即即便境外部分在中国境外犯罪的，中国刑法也具有管辖权，届时境内的主体和个人可能需要承担相应的刑事责任，即便不是主犯，也可能会被认定为共同犯罪或者帮助犯罪。

# 2025-08-05

# Web3行业赛道
 DeFi（去中心化金融）、NFT（非同质化代币）、DAO（去中心化自治组织）与 MEME（模因币）四大领域
### Uniswap：去中心化交易所（DEX）
Uniswap 通过恒定乘积公式：x * y = k 公式，自动决定每个交易的价格和兑换率。它确保了池子的总价值始终保持平衡，避免了价格波动过大。
### Compound：去中心化借贷协议
### MakerDAO（现已更名为 Sky）：稳定币系统
借贷模式与超额抵押 稳定费率与清算机制
### MEME：文化与投资热潮
往往缺乏明确的技术价值，但通过强大的社区共识和文化认同获得价值
# web3安全：防范钓鱼
练习模拟网站：https://defihacklabs.io/

# 2025-08-04

# 区块链与以太坊基础
## 一、区块链
- 概念：区块链是一种去中心化的分布式账本技术，用于在网络节点之间安全、透明且不可篡改地记录事务数据（比如交易数据）。
- 结构：[![image.jpg](https://i.postimg.cc/wTMFsfHt/image.jpg)](https://postimg.cc/0bg7TCzx)
- 特性：
  1. 去中心化（Decentralization）
  2. 不可篡改性（Immutability）
  3. 透明性与可追溯性（Transparency & Traceability）
  4. 匿名性与隐私保护（Anonymity & Privacy）
## 二、比特币（BTC）
- 概念：比特币（Bitcoin）是一种去中心化的数字货币，是区块链技术的首个成功应用。
- 特点：
  1. 具有货币的属性，不会通胀。
  2. 价格由供需决定。
  3. 作为维系去中心化区块链网络的代币奖励。
## 三、区块链生态运行流程
1. 用户发起交易：用户通过钱包应用发起转账、智能合约调用等操作
2. 交易广播：交易信息被广播到整个网络中的各个节点
3. 节点验证：网络中的矿工节点验证交易的合法性（余额是否足够、签名是否正确等）
4. 打包成块：通过共识机制（如工作量证明），矿工将验证过的交易打包成新的区块
5. 链接上链：新区块被添加到区块链上，更新全网的账本状态
6. 奖励发放：成功打包区块的矿工获得代币奖励和交易手续费

## 四、公链 、私链和联盟链
区块链根据访问权限与治理模式，大致可分为三类。按照去中心化程度从高到低排列。
[![链对比.jpg](https://i.postimg.cc/2ydpLCWf/image.jpg)](https://postimg.cc/64QbDJzH)

 Web3 ≠ Web 3.0

Web3 是区块链驱动的革命
Web 3.0 是语义网技术驱动的数据组织升级

## 五、什么是以太坊
以太坊（Ethereum）是继比特币之后最具影响力的区块链平台，由程序员维塔利克・布特林（Vitalik Buterin）于 2013 年提出构想，2015 年正式上线。它不仅是一种加密货币（其代币称为 “以太币”，简称 ETH），更核心的是一个支持智能合约的去中心化平台，旨在实现 “世界计算机” 的愿景 —— 让开发者能在其上构建和运行去中心化应用（DApps）。

## 六、以太坊重大升级
- 工作量证明（PoW）转向权益证明（PoS）
- The Merge（合并）

现在的以太坊实际上是两层结构：
 - 执行层：处理交易、智能合约（原主网）
 - 共识层：管理验证者、确定区块顺序（信标链）

## 七、POS机制
- 准入门槛：**质押** 32 ETH 成为验证者
- 工作方式：系统随机选择验证者来提议和验证区块
- 奖励机制：验证者获得新发行的 ETH + 交易费用
- 惩罚机制：作恶者质押的 ETH 被销毁（Slashing）

## 八、以太坊生态概览：L1、L2、Sidechains 等
## 九、以太坊虚拟机（EVM）：代码的执行引擎
核心特点：
- 图灵完备：就像真正的电脑一样，EVM 可以执行各种逻辑，比如 if 判断、循环等。
- 全球同步：每个矿工/节点都会自己执行一遍合约代码，保证结果一样。
- 隔离安全：EVM 把合约“关”在一个小房间里运行，不允许它乱访问用户的数据和网络，保护隐私和安全。


# 2025.07.31


<!-- Content_END -->
