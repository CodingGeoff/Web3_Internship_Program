---
timezone: UTC+8
---

# kafka

**GitHub ID:** ZK5uuu

**Telegram:** @ZK5uuu

## Self-introduction

kafka 福州，在准备we3项目和技术栈，刚参加完chainlink黑客松，对web3的前景有很大兴趣，喜欢阅读和制作音乐。

## Notes

<!-- Content_START -->
# 2025-08-09

今天跟着chainlink的教程做了一个小项目，准备在明天的笔记当中一并给出

# 2025-08-08

1. 智能合约基础与核心内容学习了 https://web3intern.xyz/zh/smart-contract-development/ 的内容，以下是我的总结与理解：  智能合约是什么？  定义：智能合约是一段运行在区块链（以太坊为主）上的代码，自动执行预定义逻辑（如转账、数据存储、条件触发），无需中介，代码即合约。  
特性：去中心化、不可篡改、透明公开、自动化执行。  
我的理解：就像一个“自动贩卖机”，输入条件（比如支付ETH），自动触发结果（执行转账或逻辑），全程无需人工干预，代码逻辑公开且不可更改。

核心知识点：  Solidity 语言：以太坊智能合约主要编程语言，类似 JavaScript，面向对象，支持复杂逻辑（如循环、条件判断）。  例子：一个简单的转账合约，定义 payable 函数，接收 ETH 并记录余额。  
我的理解：Solidity 就像区块链的“JavaScript”，但更严格，因为代码错误可能导致资金损失。

运行环境：智能合约运行在 EVM（以太坊虚拟机）上，EVM 是一个隔离的沙盒环境，确保代码安全执行。  
Gas 费用：执行智能合约需要支付 Gas（以 ETH 计费），Gas 由操作复杂度和网络需求决定。  例子：简单的转账 Gas 低，复杂的循环操作 Gas 高。  
我的理解：Gas 就像“电费”，每一步操作都得付费，优化代码能省钱。

重要名词解释：  EVM（以太坊虚拟机）：去中心化计算环境，执行智能合约代码，保证一致性和安全性。  
ABI（应用程序二进制接口）：合约的接口，定义了如何与合约交互（类似 API）。  
Gas Limit：单笔交易允许的最大 Gas 量，防止无限循环导致网络拥堵。

2. 学习笔记发布与 DApp 交互X 发布：本文完成后，我会将学习笔记发布到我的 X 账号（之前未发布过区块链相关内容），分享对智能合约的理解。  
DApp 交互：尝试使用 Remix IDE（在线智能合约开发工具）部署一个简单的 ERC-20 代币合约到测试网（如 Sepolia），体验合约部署和调用过程。  感受：部署过程需要连接 MetaMask，设置 Gas 费用，很有“区块链实操”感。

3. 深入概念学习Ⅰ 智能合约安全问题常见漏洞（基于网络和页面内容）：  重入攻击（Reentrancy）：  攻击者通过递归调用合约的函数，在状态更新前反复提取资金。  
例子：DAO 黑客攻击（2016），导致 360 万 ETH 损失。  
防御：使用 Checks-Effects-Interactions 模式，确保状态更新后再外部调用。

整数溢出/下溢：  早期 Solidity 未检查整数边界，可能导致余额错误。  
防御：使用 SafeMath 库或 Solidity 0.8+ 的内置溢出检查。

未授权访问：  合约函数未正确设置权限，攻击者可调用敏感功能。  
防御：使用 require 或 onlyOwner 修饰符限制访问。

我的困惑：智能合约一旦部署无法修改，如何应对漏洞？  答案（参考页面和网络）：通过“代理模式”（Proxy Pattern）实现合约升级，逻辑合约与数据分离，更新逻辑时不影响存储数据。

Ⅱ Gas 优化为什么要优化 Gas：Gas 费用直接影响用户体验和成本，高 Gas 可能导致交易失败或成本过高。  
优化方法（结合页面内容）：  减少存储操作：存储到区块链（如 storage 变量）比内存操作（memory）贵，尽量用局部变量。  
避免复杂循环：循环操作 Gas 消耗高，尽量用映射（mapping）替代数组遍历。  
使用事件（Events）：记录数据到日志（Event）比存储到链上便宜，适合非关键数据。  
短地址优化：用 uint8 替代 uint256（若值范围允许），节省存储空间。

我的理解：Gas 优化就像写高效代码，既要功能正确，还要“省油”。

Ⅲ 常见开发框架Hardhat：  功能：支持快速开发、测试、部署智能合约，提供本地测试网络和调试工具。  
特点：插件丰富，适合复杂项目。

Truffle：  功能：提供开发套件，包括合约编译、测试、迁移（部署）。  
特点：内置 Ganache（本地区块链），适合初学者。

Foundry：  功能：用 Rust 编写，速度快，支持高级测试和脚本化部署。  
特点：更现代，社区增长快，适合追求性能的开发者。

Remix：  功能：在线 IDE，无需安装，适合快速原型开发和学习。  
特点：简单易用，支持测试网部署。

我的感受：Remix 适合新手快速上手，Hardhat 和 Foundry 更适合专业开发，Truffle 有点“传统”但生态成熟。

4. 其他补充以太坊生态：智能合约是以太坊的核心，支持 DApp（如 DeFi、NFT）、代币发行（ERC-20、ERC-721）、DAO 等。  
PoS 升级：以太坊从 PoW 转向 PoS（2022年合并），降低能耗，Gas 费用更可预测，但仍需优化合约代码。  
51% 攻击：若攻击者控制超51%节点，可能篡改区块链历史，但在 PoS 下成本极高（需持有大量 ETH）。  
我的疑问：智能合约开发和传统编程（像 Python）差别大吗？  初步理解：智能合约更注重安全性（不可篡改）、Gas 效率，且运行在去中心化环境，调试和部署比传统编程复杂，但逻辑上类似面向对象编程。

# 2025-08-07

我锁定的目标岗位是后端工程师。
查看安全攻击新闻
查看安全攻击新闻
以下是近期典型 Web3 安全事件：

1. 2025 年 7 月 – Curve 再次遭重入攻击
事件简介：Curve 的某个非主流池部署旧版本合约，被黑客利用重入漏洞成功提走价值超 500 万美元的稳定币资产。

技术要点：合约未使用最新的 reentrancy guard，攻击者通过反复调用合约函数重入转出资金。

教训：审计覆盖率不够全面，老合约升级策略缺位；强烈建议使用标准库如 OpenZeppelin 的 ReentrancyGuard。

2. 2025 年 6 月 – Solana 钱包“GhostTrade”后端私钥泄露
事件简介：开发者将生产私钥写入 .env 文件并上传到 GitHub，黑客迅速读取并盗取热钱包余额。

损失：约 200 万美金 USDC 直接被转走。

防范措施：关键文件严格本地忽略，使用 Vault、AWS Secrets Manager 管理密钥。

3. 2025 年 5 月 – 某 DeFi 平台因 Oracle 操控损失千万
攻击方式：通过大量闪电贷调用低流动性的 LP 池价格，操控合约依赖的价格预言机（非 Chainlink），发起套利。

结论：必须使用可靠且抗操纵的 Oracle 系统（如 Chainlink），并设置价格滑点保护逻辑。

# 2025-08-06

一、以终为始，先来看看岗位职责与招聘需求：
Ⅰ后端工程师：+终身学习的态度
1.*后端：
①设计开发维护Dapp。
②优化性能：高吞吐低延迟高并发
2.*前端:支持前端的web3钱包接入
3.*智能合约:链上交互、合约集成、事务处理部分
4.API：基于nodejs、py构建restful和graphqlAPI
要求：+项目经历/开源贡献
1.开发语言：Node.js、Go、Python 等后端开发语言。
2.*技术：
①MySQL、PostgreSQL 或 NoSQL的开发与优化。
②消息队列和事件驱动架构->处理异步事务。
③容器化技术：Docker、Kubernetes
④需要熟悉的工具：Viem、Web3.js、Ethers.js
3.经验：构建高并发、分布式系统、 CI/CD 

Ⅱ智能合约工程师：+合作与学习前沿技术
1.开发:部署智能合约：
①使用solidity覆盖 NFT、DeFi、DAO（的DApp）等需求
②部署合约到区块链网络（如以太坊、Polygon、Arbitrum、Base 等）
③单元测试
2.优化：优化智能合约性能，减少 Gas 费用
要求：+团队协作
1.开发平台：Ethereum、Polygon、Arbitrum、Base等主流区块链平台，Foundry、Hardhat、Remix 等智能合约开发框架
2.技术
①了解安全性问题、审计和漏洞修复、常见的攻击模式（如重入攻击、溢出、权限管理等）。
②熟悉区块链的基本原理（如Gas 费用、交易确认、区块链共识机制）
③熟悉IPFS、NFT、Token 标准（ERC-20、ERC-721、ERC-1155 等）、去中心化身份（DID）等 Web3 相关技术。
④需要熟悉的工具：Viem、Web3.js、Ethers.js
3.3年经验、Solidity

安全岗位笔记
岗位职责
1.区块链与智能合约安全审查与防护
a.审查 Web3 应用的安全性，包括智能合约与协议级别结构 
b.设计并构建链上安全策略与控制机制 
2.漏洞检测与应急响应
a.开展安全审计流程：渗透测试、漏洞扫描、漏洞风险评估与修复建议 
b.管理安全事件响应（SIR），开展安全事故调研和恢复策略制定 
3.安全工具与平台建设
a.开发或使用智能合约漏洞扫描 / 安全分析工具 
b.与执法机构、司法/公安部门或第三方安全机构协作，实现链上威胁情报和响应机制 
4.技术研究与行业标准推动
a.跟踪 Web3 安全领域的最新技术、漏洞趋势与防御策略 
b.参与推动行业安全标准、合规框架的制定与执行（包括国内外标准）
招聘需求
1.技术栈与语言能力
a.熟悉 Solidity、Rust 等智能合约编程语言及常见漏洞原理 
b.了解主链技术如 Ethereum、Bitcoin、Polygon、Arbitrum 等平台特性与安全机制 
2.经验与实操能力
a.拥有链、节点权限、安全评估或审计实战经验；能够结合业务场景提出安全管控方案 
b.有漏洞扫描工具开发或使用经验（如自动化审计工具）
3.流程能力与政策合规
a.熟悉渗透测试、安全测试流程、应急响应流程与报告撰写。
b.对行业合规与 VASP/MSB 类监管结构有意识和了解，能参与制订或执行安全标准 
4.沟通与协作
a.能撰写安全分析报告，与跨部门合作交付安全项目成果；具备团队沟通与培训能力 
法律框架
区块链金融监管合规：理解 VASP（虚拟资产服务提供商）与 MSB（货币服务企业）在不同司法区的监管要求。需保障数字资产服务的安全与合法性 
行业标准与国家政策：参与国家或地方级区块链与网络安全标准制定（如“三体”黑暗森林安全标准、国内区块链白皮书），适配国家网络安全法规（如等级保护、数据隐私法）
典型攻击案例
虽然原页面未列出具体案例，但基于行业现状，可归纳以下常见攻击类型：
1.智能合约漏洞
a.重入攻击（Reentrancy）、整数溢出/下溢、权限误配置、Gas 消耗漏洞等。
2.闪电贷攻击（Flash Loan）
a.利用 DeFi 中的快速借贷机制操纵价格、借助 oracle 价格差进行套利攻击。
3.链上治理操纵
a.利用治理机制漏洞操控合约升级或资金提取。
4.节点与私钥泄露
a.节点管理员权限泄露、RPC 接口未授权访问、密钥管理失败引发资产盗窃。
5.链上身份与资金追踪漏洞
a.洗钱/资金流追踪能力不足，链上匿名资金流未能及时识别与阻断 


# 2025-08-04

0804
根据‘入门导读’，我把今日任务分为了四个：1.做笔记：区块链与以太坊基础、赛道概览等
2.发布首条学习笔记推特 / 体验一次 DApp 交互
3.学习以下概念：稳定币类型、借贷协议收益模型、Uniswap V3 vs V4

1.学习了https://web3intern.xyz/zh/blockchain-basic/这个链接里的内容，虽然上周就看过了，但第二次看总能看到一些新的知识点。首先，我自上而下地自己说一遍其中地内容：区块链是什么？-----------区块链是一种 去中心化的分布式账本技术，用于在多个节点之间，安全、透明、不可篡改地记录交易数据。（定义）其特性：每一个区块包含交易数据与前一区块哈希，按时间顺序串联形成链式结构，保证数据历史不可更改。区块容量有限，通常以打包周期（例如约 10 分钟）生成新区块。
Ⅰ按我自己的理解来说，像数据结构里的单向链表，每一个链节点除了拥有自身的数据以外，还拥有一个指向前面区块的"指针"，但特别注意的是，区块顺序是按照时间顺序进行的。Ⅱ重要名词解释：
分布式账本：没有中心服务器，所有参与者都保存完整账本副本
时间戳和交易数据：区块内纪录交易时间与具体内容，确保可追溯性。
密码学哈希：每个区块都包含前一区块的加密哈希值，链结构防篡改。

2.我的推账号在此之前还没有发布过区块链相关的内容，写完本文后会将本文发送到推特上。对于Dapp内容，我把之前参加黑客松的项目拿出来重新使用了一遍。

3.
Ⅰ稳定币类型：（以下信息来源于网络）①法币抵押稳定币 (Centralized)
发行方在银行里存有法币（如美元），用1:1锚定。
代表项目：USDT (Tether)、USDC (Circle)。
风险：需要信任发行机构，存在审计、监管风险。
②加密资产超额抵押 (Over-collateralized)
抵押加密资产 (如ETH、BTC)，铸造少于抵押物价值的稳定币。
代表项目：DAI (MakerDAO)。
风险：若抵押资产暴跌，会被清算。
③算法稳定币 (Algorithmic Stablecoin)
通过算法调节供需，保持锚定（如铸币-销毁机制）。
代表项目：FRAX (部分算法)、UST (失败案例)。
风险：市场信心一旦丧失，会出现“死亡螺旋”。
个人还是对①法币抵押稳定币了解的比较多，比较困惑的点在于稳定币之于美元，是否相当于微信/支付宝余额相对于人民币？--------以下是grok给我的回答：稳定币类似微信/支付宝余额，1:1锚定美元/人民币，用于支付，但稳定币基于区块链，余额靠中心化平台。所以他俩之间应该差了一个“去中心化”，或者说是否有被监管

Ⅱ 借贷协议收益模型（Lending Protocols）
①利息收入模型
借款人支付利息，存款人赚取利息。
利率浮动，供需决定。
代表项目：Aave、Compound。
②清算收入
借款人低于清算阈值时，协议触发清算。
清算人获得奖励（如10%折扣买入抵押物）。
③协议收入
协议收取一部分利息（如5-10%平台费）。
这些收入可分发给协议的治理代币持有者。
④Aave 特有：Flash Loans（闪电贷手续费）
无需抵押，瞬间借贷，1笔交易内还款。
协议对每笔闪电贷收取固定手续费。
--------符合直觉，但具有特性。


Ⅲ Uniswap V3 vs V4 核心区别（这部分知识来源于chatgpt，在此之前没有接触过）

核心设计：

Uniswap V3 采用“集中流动性”设计，允许流动性提供者（LP）自定义价格区间来提供流动性，提高资本效率。

Uniswap V4 引入了“Hook”机制，允许开发者在流动性池上插入自定义逻辑模块，实现更加灵活的功能扩展。

池结构：

Uniswap V3 中，每种手续费率都需要单独建立一个流动性池。

Uniswap V4 实现了所有资产与费率共享同一个池结构，从而显著降低了 Gas 成本。

扩展性：

Uniswap V3 的扩展性受限，若要增加新功能，需要单独开发新的合约。

Uniswap V4 通过 Hook 插件系统，可以插入定制费率、限价单、动态 LP 管理等模块，开发更加灵活。

收费模式：

Uniswap V3 采用 GPLv3 开源协议，但附有商业限制。

Uniswap V4 将切换到商业许可协议，并可能对协议功能收取一定费用。

创新亮点：

Uniswap V3 的“集中流动性”是其最大创新，使得 LP 的资金使用效率大幅提升。

Uniswap V4 的“Hook 插件化”则是一次架构层级的革新，开发者可以像玩积木一样扩展功能，极大降低了开发 DeFi 应用的门槛。



-----------简单理解就是：
V3 是“流动性精准控价”时代；
V4 是“插件化流动性市场”，开发者可以像“装 App 一样”在 Uniswap 上挂自定义逻辑。


*else.以太坊 是最广泛应用智能合约的平台，支持 DApp 构建、代币发行、DAO 等生态应用。
它由 PoW（工作量证明）转向 PoS（权益证明），提升能耗效率，也引入了分片、rollup 等扩容方案。记得22年的时候以太坊挖矿很火，它就是与PoW有关，改为PoS之后似乎就没有这样的矿潮了。
若攻击者掌握网络 51% 以上算力，有可能重写区块链历史（51% 攻击）。
智能合约的漏洞不可修改：一旦部署即不可更改。如果出现安全缺陷，只能通过硬分叉等方式补救。



使用metamask钱包向好友转账了0.5个spolia测试币，交易ID为0x91fcb17dddf3e2a4a13a200b309f4af96993307896c9fdf1a50e6422d458533c，其中gas费为0.000063
SepoliaETH

# 2025.07.29


<!-- Content_END -->
